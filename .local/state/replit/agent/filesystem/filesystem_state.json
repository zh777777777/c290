{"file_contents":{"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"server/storage.ts":{"content":"import { \n  type Canteen, type InsertCanteen,\n  type Stall, type InsertStall,\n  type FoodListing, type InsertFoodListing,\n  type Vendor, type InsertVendor,\n  type Rating, type InsertRating,\n  type User, type InsertUser,\n  type UserPreferences, type InsertUserPreferences,\n  type CampusBlock, type InsertCampusBlock,\n  type DeliveryRequest, type InsertDeliveryRequest,\n  type DeliveryEarnings, type InsertDeliveryEarnings,\n  type Voucher, type InsertVoucher,\n  canteens, stalls, foodListings, vendors, ratings,\n  users, userPreferences, campusBlocks, deliveryRequests, deliveryEarnings, vouchers\n} from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\nimport { drizzle } from \"drizzle-orm/neon-serverless\";\nimport { eq, and, sql } from \"drizzle-orm\";\nimport { Pool, neonConfig } from \"@neondatabase/serverless\";\nimport ws from \"ws\";\n\n// Configure WebSocket for Neon in Node.js environment\nneonConfig.webSocketConstructor = ws;\n\nexport interface IStorage {\n  // Canteens\n  getAllCanteens(): Promise<Canteen[]>;\n  getCanteen(id: string): Promise<Canteen | undefined>;\n  createCanteen(canteen: InsertCanteen): Promise<Canteen>;\n  deleteCanteen(id: string): Promise<void>;\n  \n  // Stalls\n  getAllStalls(): Promise<Stall[]>;\n  getStallsByCanteen(canteenId: string): Promise<Stall[]>;\n  getStall(id: string): Promise<Stall | undefined>;\n  createStall(stall: InsertStall): Promise<Stall>;\n  updateStallQueue(id: string, queueNumber: number, waitTime: number): Promise<Stall | undefined>;\n  deleteStall(id: string): Promise<void>;\n  \n  // Food Listings\n  getAllFoodListings(availableOnly?: boolean): Promise<FoodListing[]>;\n  getFoodListing(id: string): Promise<FoodListing | undefined>;\n  getFoodListingsByVendor(vendorId: string): Promise<FoodListing[]>;\n  createFoodListing(listing: InsertFoodListing): Promise<FoodListing>;\n  updateFoodListingAvailability(id: string, available: boolean): Promise<FoodListing | undefined>;\n  deleteFoodListing(id: string): Promise<void>;\n  \n  // Vendors\n  getAllVendors(): Promise<Vendor[]>;\n  getVendor(id: string): Promise<Vendor | undefined>;\n  createVendor(vendor: InsertVendor): Promise<Vendor>;\n  deleteVendor(id: string): Promise<void>;\n  \n  // Ratings\n  createRating(rating: InsertRating): Promise<Rating>;\n  getRatingsByEntity(entityType: string, entityId: string): Promise<Rating[]>;\n  updateEntityRating(entityType: string, entityId: string): Promise<void>;\n  getAllRatings(): Promise<Rating[]>;\n  \n  // Users\n  createUser(user: InsertUser): Promise<User>;\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  updateUserLocation(userId: string, blockId: string): Promise<User | undefined>;\n  toggleDeliveryAvailability(userId: string, available: boolean): Promise<User | undefined>;\n  registerAsDeliveryPerson(userId: string, phoneNumber?: string, blockId?: string): Promise<User | undefined>;\n  updateUserVoucherBalance(userId: string, amount: string): Promise<User | undefined>;\n  incrementUserDeliveries(userId: string): Promise<User | undefined>;\n  \n  // User Preferences\n  createUserPreferences(prefs: InsertUserPreferences): Promise<UserPreferences>;\n  getUserPreferences(userId: string): Promise<UserPreferences | undefined>;\n  updateUserPreferences(userId: string, prefs: Partial<InsertUserPreferences>): Promise<UserPreferences | undefined>;\n  \n  // Campus Blocks\n  getAllCampusBlocks(): Promise<CampusBlock[]>;\n  getCampusBlock(id: string): Promise<CampusBlock | undefined>;\n  createCampusBlock(block: InsertCampusBlock): Promise<CampusBlock>;\n  \n  // Delivery Requests\n  createDeliveryRequest(request: InsertDeliveryRequest): Promise<DeliveryRequest>;\n  getDeliveryRequest(id: string): Promise<DeliveryRequest | undefined>;\n  getPendingDeliveryRequests(): Promise<DeliveryRequest[]>;\n  getDeliveryRequestsByCustomer(customerId: string): Promise<DeliveryRequest[]>;\n  getDeliveryRequestsByDeliveryPerson(deliveryPersonId: string): Promise<DeliveryRequest[]>;\n  acceptDeliveryRequest(requestId: string, deliveryPersonId: string): Promise<DeliveryRequest | undefined>;\n  updateDeliveryStatus(requestId: string, status: string): Promise<DeliveryRequest | undefined>;\n  rateDelivery(requestId: string, rating: number, review?: string): Promise<DeliveryRequest | undefined>;\n  \n  // Delivery Earnings\n  createDeliveryEarnings(earnings: InsertDeliveryEarnings): Promise<DeliveryEarnings>;\n  getDeliveryPersonEarnings(deliveryPersonId: string): Promise<DeliveryEarnings[]>;\n  getTotalEarnings(deliveryPersonId: string): Promise<number>;\n  \n  // Vouchers\n  createVoucher(voucher: InsertVoucher): Promise<Voucher>;\n  getUserVouchers(userId: string, unusedOnly?: boolean): Promise<Voucher[]>;\n  useVoucher(voucherId: string): Promise<Voucher | undefined>;\n}\n\nexport class MemStorage implements IStorage {\n  private canteens: Map<string, Canteen>;\n  private stalls: Map<string, Stall>;\n  private foodListings: Map<string, FoodListing>;\n  private vendors: Map<string, Vendor>;\n  private ratings: Map<string, Rating>;\n\n  constructor() {\n    this.canteens = new Map();\n    this.stalls = new Map();\n    this.foodListings = new Map();\n    this.vendors = new Map();\n    this.ratings = new Map();\n    this.seedInitialData();\n  }\n\n  private seedInitialData() {\n    // Seed 5 canteens\n    const canteenNames = [\"North Canteen\", \"South Canteen\", \"East Canteen\", \"West Canteen\", \"Central Canteen\"];\n    const canteenLocations = [\"Block A\", \"Block B\", \"Block C\", \"Block D\", \"Block E\"];\n    \n    canteenNames.forEach((name, index) => {\n      const id = `canteen-${index + 1}`;\n      this.canteens.set(id, {\n        id,\n        name,\n        location: canteenLocations[index],\n        totalStalls: 0,\n      });\n    });\n\n    // Seed stalls for each canteen\n    const cuisines = [\"Chinese\", \"Malay\", \"Indian\", \"Western\", \"Japanese\", \"Korean\", \"Thai\", \"Vietnamese\"];\n    const stallNames = [\n      \"Wok & Roll\", \"Nasi Lemak Paradise\", \"Curry House\", \"Grill Master\",\n      \"Sushi Station\", \"K-Food Corner\", \"Thai Delights\", \"Pho Heaven\",\n      \"Chicken Rice Express\", \"Mee Goreng\", \"Roti Prata\", \"Fish & Chips\",\n      \"Bento Box\", \"Bibimbap Bowl\", \"Tom Yum\", \"Spring Rolls\"\n    ];\n\n    let stallIndex = 0;\n    this.canteens.forEach((canteen) => {\n      const numStalls = Math.floor(Math.random() * 3) + 3; // 3-5 stalls per canteen\n      for (let i = 0; i < numStalls; i++) {\n        const id = `stall-${stallIndex + 1}`;\n        const queue = Math.floor(Math.random() * 20); // 0-19 people\n        const waitTime = Math.ceil(queue * 2.5); // ~2.5 min per person\n        \n        this.stalls.set(id, {\n          id,\n          canteenId: canteen.id,\n          name: stallNames[stallIndex % stallNames.length],\n          cuisineType: cuisines[stallIndex % cuisines.length],\n          currentQueue: queue,\n          estimatedWaitTime: waitTime,\n          rating: (Math.random() * 1.5 + 3.5).toFixed(2), // 3.5-5.0\n          reviewCount: Math.floor(Math.random() * 200) + 50,\n        });\n        stallIndex++;\n      }\n      canteen.totalStalls = numStalls;\n    });\n\n    // Seed vendors\n    const vendorData = [\n      { name: \"Sunrise Bakery\", type: \"bakery\", address: \"123 Orchard Road\", operatingHours: \"6:00 AM - 8:00 PM\" },\n      { name: \"Golden Wok Restaurant\", type: \"restaurant\", address: \"456 Chinatown Street\", operatingHours: \"11:00 AM - 10:00 PM\" },\n      { name: \"Kopi & Toast Cafe\", type: \"cafe\", address: \"789 Marina Bay\", operatingHours: \"7:00 AM - 6:00 PM\" },\n      { name: \"Hawker's Delight\", type: \"hawker\", address: \"101 East Coast Road\", operatingHours: \"10:00 AM - 9:00 PM\" },\n      { name: \"French Patisserie\", type: \"bakery\", address: \"234 Somerset Road\", operatingHours: \"8:00 AM - 7:00 PM\" },\n    ];\n\n    vendorData.forEach((data, index) => {\n      const id = `vendor-${index + 1}`;\n      this.vendors.set(id, {\n        id,\n        name: data.name,\n        type: data.type,\n        address: data.address,\n        operatingHours: data.operatingHours,\n        rating: (Math.random() * 1 + 4).toFixed(2), // 4.0-5.0\n        reviewCount: Math.floor(Math.random() * 150) + 30,\n        imageUrl: null,\n      });\n    });\n\n    // Seed food listings\n    const foodItems = [\n      { title: \"Assorted Bread & Pastries\", desc: \"Fresh croissants, baguettes, and danish pastries\", img: \"Bakery_bread_and_pastries_491a3fb4.png\", original: 25, discounted: 12 },\n      { title: \"Nasi Lemak Set\", desc: \"Fragrant coconut rice with chicken, sambal, and sides\", img: \"Nasi_lemak_food_item_ff62eaaa.png\", original: 8, discounted: 4 },\n      { title: \"Dim Sum Platter\", desc: \"Assorted steamed dim sum - har gow, siu mai, bao\", img: \"Dim_sum_selection_52cbe93d.png\", original: 18, discounted: 9 },\n      { title: \"Fresh Salad Bowl\", desc: \"Mixed greens with seasonal vegetables and dressing\", img: \"Fresh_salad_bowl_933a387a.png\", original: 12, discounted: 6 },\n      { title: \"Chicken Rice\", desc: \"Tender sliced chicken with fragrant rice and chili sauce\", img: \"Chicken_rice_dish_87e4f1a2.png\", original: 6, discounted: 3 },\n    ];\n\n    foodItems.forEach((item, index) => {\n      const id = `listing-${index + 1}`;\n      const vendorId = `vendor-${(index % vendorData.length) + 1}`;\n      \n      this.foodListings.set(id, {\n        id,\n        vendorId,\n        title: item.title,\n        description: item.desc,\n        originalPrice: item.original.toFixed(2),\n        discountedPrice: item.discounted.toFixed(2),\n        quantity: Math.floor(Math.random() * 10) + 5,\n        pickupTimeStart: \"17:00\",\n        pickupTimeEnd: \"19:30\",\n        imageUrl: item.img,\n        available: true,\n        createdAt: new Date(),\n      });\n    });\n  }\n\n  // Canteens\n  async getAllCanteens(): Promise<Canteen[]> {\n    return Array.from(this.canteens.values());\n  }\n\n  async getCanteen(id: string): Promise<Canteen | undefined> {\n    return this.canteens.get(id);\n  }\n\n  async createCanteen(insertCanteen: InsertCanteen): Promise<Canteen> {\n    const id = randomUUID();\n    const canteen: Canteen = { ...insertCanteen, id, totalStalls: 0 };\n    this.canteens.set(id, canteen);\n    return canteen;\n  }\n\n  // Stalls\n  async getAllStalls(): Promise<Stall[]> {\n    return Array.from(this.stalls.values());\n  }\n\n  async getStallsByCanteen(canteenId: string): Promise<Stall[]> {\n    return Array.from(this.stalls.values()).filter(s => s.canteenId === canteenId);\n  }\n\n  async getStall(id: string): Promise<Stall | undefined> {\n    return this.stalls.get(id);\n  }\n\n  async createStall(insertStall: InsertStall): Promise<Stall> {\n    const id = randomUUID();\n    const stall: Stall = { \n      id,\n      canteenId: insertStall.canteenId,\n      name: insertStall.name,\n      cuisineType: insertStall.cuisineType,\n      currentQueue: insertStall.currentQueue ?? 0,\n      estimatedWaitTime: insertStall.estimatedWaitTime ?? 0,\n      rating: \"0\",\n      reviewCount: 0 \n    };\n    this.stalls.set(id, stall);\n    \n    // Update canteen stall count\n    const canteen = this.canteens.get(insertStall.canteenId);\n    if (canteen) {\n      canteen.totalStalls++;\n    }\n    \n    return stall;\n  }\n\n  async updateStallQueue(id: string, queueNumber: number, waitTime: number): Promise<Stall | undefined> {\n    const stall = this.stalls.get(id);\n    if (stall) {\n      stall.currentQueue = queueNumber;\n      stall.estimatedWaitTime = waitTime;\n    }\n    return stall;\n  }\n\n  // Food Listings\n  async getAllFoodListings(availableOnly: boolean = false): Promise<FoodListing[]> {\n    const listings = Array.from(this.foodListings.values());\n    return availableOnly ? listings.filter(l => l.available) : listings;\n  }\n\n  async getFoodListing(id: string): Promise<FoodListing | undefined> {\n    return this.foodListings.get(id);\n  }\n\n  async getFoodListingsByVendor(vendorId: string): Promise<FoodListing[]> {\n    return Array.from(this.foodListings.values()).filter(l => l.vendorId === vendorId);\n  }\n\n  async createFoodListing(insertListing: InsertFoodListing): Promise<FoodListing> {\n    const id = randomUUID();\n    const listing: FoodListing = {\n      ...insertListing,\n      id,\n      available: true,\n      createdAt: new Date(),\n    };\n    this.foodListings.set(id, listing);\n    return listing;\n  }\n\n  async updateFoodListingAvailability(id: string, available: boolean): Promise<FoodListing | undefined> {\n    const listing = this.foodListings.get(id);\n    if (listing) {\n      listing.available = available;\n    }\n    return listing;\n  }\n\n  // Vendors\n  async getAllVendors(): Promise<Vendor[]> {\n    return Array.from(this.vendors.values());\n  }\n\n  async getVendor(id: string): Promise<Vendor | undefined> {\n    return this.vendors.get(id);\n  }\n\n  async createVendor(insertVendor: InsertVendor): Promise<Vendor> {\n    const id = randomUUID();\n    const vendor: Vendor = {\n      id,\n      name: insertVendor.name,\n      type: insertVendor.type,\n      address: insertVendor.address,\n      operatingHours: insertVendor.operatingHours,\n      rating: \"0\",\n      reviewCount: 0,\n      imageUrl: insertVendor.imageUrl || null,\n    };\n    this.vendors.set(id, vendor);\n    return vendor;\n  }\n\n  // Ratings\n  async createRating(insertRating: InsertRating): Promise<Rating> {\n    const id = randomUUID();\n    const rating: Rating = {\n      id,\n      entityType: insertRating.entityType,\n      entityId: insertRating.entityId,\n      rating: insertRating.rating,\n      review: insertRating.review || null,\n      createdAt: new Date(),\n    };\n    this.ratings.set(id, rating);\n    \n    // Update entity rating\n    await this.updateEntityRating(insertRating.entityType, insertRating.entityId);\n    \n    return rating;\n  }\n\n  async getRatingsByEntity(entityType: string, entityId: string): Promise<Rating[]> {\n    return Array.from(this.ratings.values())\n      .filter(r => r.entityType === entityType && r.entityId === entityId);\n  }\n\n  async getAllRatings(): Promise<Rating[]> {\n    return Array.from(this.ratings.values());\n  }\n\n  async updateEntityRating(entityType: string, entityId: string): Promise<void> {\n    const entityRatings = await this.getRatingsByEntity(entityType, entityId);\n    if (entityRatings.length === 0) return;\n\n    const avgRating = entityRatings.reduce((sum, r) => sum + r.rating, 0) / entityRatings.length;\n    \n    if (entityType === 'stall') {\n      const stall = this.stalls.get(entityId);\n      if (stall) {\n        stall.rating = avgRating.toFixed(2);\n        stall.reviewCount = entityRatings.length;\n      }\n    } else if (entityType === 'vendor') {\n      const vendor = this.vendors.get(entityId);\n      if (vendor) {\n        vendor.rating = avgRating.toFixed(2);\n        vendor.reviewCount = entityRatings.length;\n      }\n    }\n  }\n\n  // Delete methods\n  async deleteCanteen(id: string): Promise<void> {\n    // Delete all stalls in this canteen first\n    const stallsToDelete = Array.from(this.stalls.values()).filter(s => s.canteenId === id);\n    stallsToDelete.forEach(s => this.stalls.delete(s.id));\n    this.canteens.delete(id);\n  }\n\n  async deleteStall(id: string): Promise<void> {\n    const stall = this.stalls.get(id);\n    if (stall) {\n      this.stalls.delete(id);\n      const canteen = this.canteens.get(stall.canteenId);\n      if (canteen) {\n        canteen.totalStalls--;\n      }\n    }\n  }\n\n  async deleteVendor(id: string): Promise<void> {\n    // Delete all food listings for this vendor first\n    const listingsToDelete = Array.from(this.foodListings.values()).filter(l => l.vendorId === id);\n    listingsToDelete.forEach(l => this.foodListings.delete(l.id));\n    this.vendors.delete(id);\n  }\n\n  async deleteFoodListing(id: string): Promise<void> {\n    this.foodListings.delete(id);\n  }\n}\n\n// Database Storage using PostgreSQL + Drizzle ORM\nexport class DbStorage implements IStorage {\n  private db;\n\n  constructor() {\n    const pool = new Pool({ connectionString: process.env.DATABASE_URL });\n    this.db = drizzle(pool);\n  }\n\n  // Canteens\n  async getAllCanteens(): Promise<Canteen[]> {\n    return await this.db.select().from(canteens);\n  }\n\n  async getCanteen(id: string): Promise<Canteen | undefined> {\n    const results = await this.db.select().from(canteens).where(eq(canteens.id, id));\n    return results[0];\n  }\n\n  async createCanteen(insertCanteen: InsertCanteen): Promise<Canteen> {\n    const id = randomUUID();\n    const results = await this.db.insert(canteens).values({ ...insertCanteen, id, totalStalls: 0 }).returning();\n    return results[0];\n  }\n\n  // Stalls\n  async getAllStalls(): Promise<Stall[]> {\n    return await this.db.select().from(stalls);\n  }\n\n  async getStallsByCanteen(canteenId: string): Promise<Stall[]> {\n    return await this.db.select().from(stalls).where(eq(stalls.canteenId, canteenId));\n  }\n\n  async getStall(id: string): Promise<Stall | undefined> {\n    const results = await this.db.select().from(stalls).where(eq(stalls.id, id));\n    return results[0];\n  }\n\n  async createStall(insertStall: InsertStall): Promise<Stall> {\n    const id = randomUUID();\n    const results = await this.db.insert(stalls).values({ \n      ...insertStall, \n      id,\n      rating: \"0\",\n      reviewCount: 0 \n    }).returning();\n    \n    // Update canteen stall count\n    await this.db\n      .update(canteens)\n      .set({ totalStalls: sql`${canteens.totalStalls} + 1` })\n      .where(eq(canteens.id, insertStall.canteenId));\n    \n    return results[0];\n  }\n\n  async updateStallQueue(id: string, queueNumber: number, waitTime: number): Promise<Stall | undefined> {\n    const results = await this.db\n      .update(stalls)\n      .set({ currentQueue: queueNumber, estimatedWaitTime: waitTime })\n      .where(eq(stalls.id, id))\n      .returning();\n    return results[0];\n  }\n\n  // Food Listings\n  async getAllFoodListings(availableOnly: boolean = false): Promise<FoodListing[]> {\n    if (availableOnly) {\n      return await this.db.select().from(foodListings).where(eq(foodListings.available, true));\n    }\n    return await this.db.select().from(foodListings);\n  }\n\n  async getFoodListing(id: string): Promise<FoodListing | undefined> {\n    const results = await this.db.select().from(foodListings).where(eq(foodListings.id, id));\n    return results[0];\n  }\n\n  async getFoodListingsByVendor(vendorId: string): Promise<FoodListing[]> {\n    return await this.db.select().from(foodListings).where(eq(foodListings.vendorId, vendorId));\n  }\n\n  async createFoodListing(insertListing: InsertFoodListing): Promise<FoodListing> {\n    const id = randomUUID();\n    const results = await this.db.insert(foodListings).values({\n      ...insertListing,\n      id,\n      available: true,\n    }).returning();\n    return results[0];\n  }\n\n  async updateFoodListingAvailability(id: string, available: boolean): Promise<FoodListing | undefined> {\n    const results = await this.db\n      .update(foodListings)\n      .set({ available })\n      .where(eq(foodListings.id, id))\n      .returning();\n    return results[0];\n  }\n\n  // Vendors\n  async getAllVendors(): Promise<Vendor[]> {\n    return await this.db.select().from(vendors);\n  }\n\n  async getVendor(id: string): Promise<Vendor | undefined> {\n    const results = await this.db.select().from(vendors).where(eq(vendors.id, id));\n    return results[0];\n  }\n\n  async createVendor(insertVendor: InsertVendor): Promise<Vendor> {\n    const id = randomUUID();\n    const results = await this.db.insert(vendors).values({\n      ...insertVendor,\n      id,\n      rating: \"0\",\n      reviewCount: 0,\n    }).returning();\n    return results[0];\n  }\n\n  // Canteen Delete\n  async deleteCanteen(id: string): Promise<void> {\n    // Delete all stalls in this canteen first\n    await this.db.delete(stalls).where(eq(stalls.canteenId, id));\n    // Delete the canteen\n    await this.db.delete(canteens).where(eq(canteens.id, id));\n  }\n\n  // Stall Delete\n  async deleteStall(id: string): Promise<void> {\n    const stall = await this.getStall(id);\n    if (stall) {\n      // Delete the stall\n      await this.db.delete(stalls).where(eq(stalls.id, id));\n      // Update canteen stall count\n      await this.db\n        .update(canteens)\n        .set({ totalStalls: sql`${canteens.totalStalls} - 1` })\n        .where(eq(canteens.id, stall.canteenId));\n    }\n  }\n\n  // Vendor Delete\n  async deleteVendor(id: string): Promise<void> {\n    // Delete all food listings for this vendor first\n    await this.db.delete(foodListings).where(eq(foodListings.vendorId, id));\n    // Delete the vendor\n    await this.db.delete(vendors).where(eq(vendors.id, id));\n  }\n\n  // Food Listing Delete\n  async deleteFoodListing(id: string): Promise<void> {\n    await this.db.delete(foodListings).where(eq(foodListings.id, id));\n  }\n\n  // Ratings\n  async createRating(insertRating: InsertRating): Promise<Rating> {\n    const id = randomUUID();\n    const results = await this.db.insert(ratings).values({\n      ...insertRating,\n      id,\n    }).returning();\n    \n    // Update entity rating\n    await this.updateEntityRating(insertRating.entityType, insertRating.entityId);\n    \n    return results[0];\n  }\n\n  async getRatingsByEntity(entityType: string, entityId: string): Promise<Rating[]> {\n    return await this.db\n      .select()\n      .from(ratings)\n      .where(and(eq(ratings.entityType, entityType), eq(ratings.entityId, entityId)));\n  }\n\n  async getAllRatings(): Promise<Rating[]> {\n    return await this.db.select().from(ratings);\n  }\n\n  async updateEntityRating(entityType: string, entityId: string): Promise<void> {\n    const entityRatings = await this.getRatingsByEntity(entityType, entityId);\n    if (entityRatings.length === 0) return;\n\n    // Keep numeric value - Drizzle will handle decimal conversion\n    const avgRating = entityRatings.reduce((sum, r) => sum + r.rating, 0) / entityRatings.length;\n    \n    if (entityType === 'stall') {\n      await this.db\n        .update(stalls)\n        .set({ rating: sql`${avgRating}::numeric(3,2)`, reviewCount: entityRatings.length })\n        .where(eq(stalls.id, entityId));\n    } else if (entityType === 'vendor') {\n      await this.db\n        .update(vendors)\n        .set({ rating: sql`${avgRating}::numeric(3,2)`, reviewCount: entityRatings.length })\n        .where(eq(vendors.id, entityId));\n    }\n  }\n\n  // Seed database with initial data\n  async seedDatabase() {\n    // Check if already seeded\n    const existingCanteens = await this.getAllCanteens();\n    if (existingCanteens.length > 0) {\n      console.log(\"Database already seeded, skipping...\");\n      return;\n    }\n\n    console.log(\"Seeding database with initial data...\");\n\n    // Seed 5 canteens\n    const canteenNames = [\"North Canteen\", \"South Canteen\", \"East Canteen\", \"West Canteen\", \"Central Canteen\"];\n    const canteenLocations = [\"Block A\", \"Block B\", \"Block C\", \"Block D\", \"Block E\"];\n    \n    for (let i = 0; i < canteenNames.length; i++) {\n      const id = `canteen-${i + 1}`;\n      await this.db.insert(canteens).values({\n        id,\n        name: canteenNames[i],\n        location: canteenLocations[i],\n        totalStalls: 0,\n      });\n    }\n\n    // Seed stalls for each canteen\n    const cuisines = [\"Chinese\", \"Malay\", \"Indian\", \"Western\", \"Japanese\", \"Korean\", \"Thai\", \"Vietnamese\"];\n    const stallNames = [\n      \"Wok & Roll\", \"Nasi Lemak Paradise\", \"Curry House\", \"Grill Master\",\n      \"Sushi Station\", \"K-Food Corner\", \"Thai Delights\", \"Pho Heaven\",\n      \"Chicken Rice Express\", \"Mee Goreng\", \"Roti Prata\", \"Fish & Chips\",\n      \"Bento Box\", \"Bibimbap Bowl\", \"Tom Yum\", \"Spring Rolls\"\n    ];\n\n    let stallIndex = 0;\n    const seededCanteens = await this.getAllCanteens();\n    \n    for (const canteen of seededCanteens) {\n      const numStalls = Math.floor(Math.random() * 3) + 3; // 3-5 stalls per canteen\n      for (let i = 0; i < numStalls; i++) {\n        const id = `stall-${stallIndex + 1}`;\n        const queue = Math.floor(Math.random() * 20); // 0-19 people\n        const waitTime = Math.ceil(queue * 2.5); // ~2.5 min per person\n        \n        await this.db.insert(stalls).values({\n          id,\n          canteenId: canteen.id,\n          name: stallNames[stallIndex % stallNames.length],\n          cuisineType: cuisines[stallIndex % cuisines.length],\n          currentQueue: queue,\n          estimatedWaitTime: waitTime,\n          rating: (Math.random() * 1.5 + 3.5).toFixed(2), // 3.5-5.0\n          reviewCount: Math.floor(Math.random() * 200) + 50,\n        });\n        stallIndex++;\n      }\n      \n      // Update canteen stall count\n      await this.db\n        .update(canteens)\n        .set({ totalStalls: numStalls })\n        .where(eq(canteens.id, canteen.id));\n    }\n\n    // Seed vendors\n    const vendorData = [\n      { name: \"Sunrise Bakery\", type: \"bakery\", address: \"123 Orchard Road\", operatingHours: \"6:00 AM - 8:00 PM\" },\n      { name: \"Golden Wok Restaurant\", type: \"restaurant\", address: \"456 Chinatown Street\", operatingHours: \"11:00 AM - 10:00 PM\" },\n      { name: \"Kopi & Toast Cafe\", type: \"cafe\", address: \"789 Marina Bay\", operatingHours: \"7:00 AM - 6:00 PM\" },\n      { name: \"Hawker's Delight\", type: \"hawker\", address: \"101 East Coast Road\", operatingHours: \"10:00 AM - 9:00 PM\" },\n      { name: \"French Patisserie\", type: \"bakery\", address: \"234 Somerset Road\", operatingHours: \"8:00 AM - 7:00 PM\" },\n    ];\n\n    for (let i = 0; i < vendorData.length; i++) {\n      const id = `vendor-${i + 1}`;\n      await this.db.insert(vendors).values({\n        id,\n        ...vendorData[i],\n        rating: (Math.random() * 1 + 4).toFixed(2), // 4.0-5.0\n        reviewCount: Math.floor(Math.random() * 150) + 30,\n        imageUrl: null,\n      });\n    }\n\n    // Seed food listings\n    const foodItems = [\n      { title: \"Assorted Bread & Pastries\", desc: \"Fresh croissants, baguettes, and danish pastries\", img: \"Bakery_bread_and_pastries_491a3fb4.png\", original: 25, discounted: 12 },\n      { title: \"Nasi Lemak Set\", desc: \"Fragrant coconut rice with chicken, sambal, and sides\", img: \"Nasi_lemak_food_item_ff62eaaa.png\", original: 8, discounted: 4 },\n      { title: \"Dim Sum Platter\", desc: \"Assorted steamed dim sum - har gow, siu mai, bao\", img: \"Dim_sum_selection_52cbe93d.png\", original: 18, discounted: 9 },\n      { title: \"Fresh Salad Bowl\", desc: \"Mixed greens with seasonal vegetables and dressing\", img: \"Fresh_salad_bowl_933a387a.png\", original: 12, discounted: 6 },\n      { title: \"Chicken Rice\", desc: \"Tender sliced chicken with fragrant rice and chili sauce\", img: \"Chicken_rice_dish_87e4f1a2.png\", original: 6, discounted: 3 },\n    ];\n\n    for (let i = 0; i < foodItems.length; i++) {\n      const id = `listing-${i + 1}`;\n      const vendorId = `vendor-${(i % vendorData.length) + 1}`;\n      const item = foodItems[i];\n      \n      await this.db.insert(foodListings).values({\n        id,\n        vendorId,\n        title: item.title,\n        description: item.desc,\n        originalPrice: item.original.toFixed(2),\n        discountedPrice: item.discounted.toFixed(2),\n        quantity: Math.floor(Math.random() * 10) + 5,\n        pickupTimeStart: \"17:00\",\n        pickupTimeEnd: \"19:30\",\n        imageUrl: item.img,\n        available: true,\n      });\n    }\n\n    // Seed campus blocks\n    const blockData = [\n      { name: \"Block A (North Wing)\", shortName: \"BLK-A\", nearestCanteenId: \"canteen-1\", lat: 1.2966, lng: 103.7764 },\n      { name: \"Block B (South Wing)\", shortName: \"BLK-B\", nearestCanteenId: \"canteen-2\", lat: 1.2956, lng: 103.7774 },\n      { name: \"Block C (East Wing)\", shortName: \"BLK-C\", nearestCanteenId: \"canteen-3\", lat: 1.2976, lng: 103.7784 },\n      { name: \"Block D (West Wing)\", shortName: \"BLK-D\", nearestCanteenId: \"canteen-4\", lat: 1.2946, lng: 103.7754 },\n      { name: \"Engineering Building\", shortName: \"ENG\", nearestCanteenId: \"canteen-5\", lat: 1.2986, lng: 103.7794 },\n      { name: \"Library\", shortName: \"LIB\", nearestCanteenId: \"canteen-5\", lat: 1.2996, lng: 103.7804 },\n      { name: \"Science Block\", shortName: \"SCI\", nearestCanteenId: \"canteen-1\", lat: 1.3006, lng: 103.7814 },\n    ];\n\n    for (let i = 0; i < blockData.length; i++) {\n      const id = `block-${i + 1}`;\n      const block = blockData[i];\n      await this.db.insert(campusBlocks).values({\n        id,\n        name: block.name,\n        shortName: block.shortName,\n        nearestCanteenId: block.nearestCanteenId,\n        latitude: block.lat.toFixed(7),\n        longitude: block.lng.toFixed(7),\n      });\n    }\n\n    console.log(\"Database seeding completed!\");\n  }\n\n  // Users\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const results = await this.db.insert(users).values({ ...insertUser, id }).returning();\n    return results[0];\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    const results = await this.db.select().from(users).where(eq(users.id, id));\n    return results[0];\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const results = await this.db.select().from(users).where(eq(users.username, username));\n    return results[0];\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    const results = await this.db.select().from(users).where(eq(users.email, email));\n    return results[0];\n  }\n\n  async updateUserLocation(userId: string, blockId: string): Promise<User | undefined> {\n    const results = await this.db\n      .update(users)\n      .set({ currentBlockId: blockId })\n      .where(eq(users.id, userId))\n      .returning();\n    return results[0];\n  }\n\n  async toggleDeliveryAvailability(userId: string, available: boolean): Promise<User | undefined> {\n    const results = await this.db\n      .update(users)\n      .set({ deliveryAvailable: available })\n      .where(eq(users.id, userId))\n      .returning();\n    return results[0];\n  }\n\n  async updateUserVoucherBalance(userId: string, amount: string): Promise<User | undefined> {\n    const results = await this.db\n      .update(users)\n      .set({ voucherBalance: amount })\n      .where(eq(users.id, userId))\n      .returning();\n    return results[0];\n  }\n\n  async incrementUserDeliveries(userId: string): Promise<User | undefined> {\n    const results = await this.db\n      .update(users)\n      .set({ totalDeliveries: sql`${users.totalDeliveries} + 1` })\n      .where(eq(users.id, userId))\n      .returning();\n    return results[0];\n  }\n\n  // User Preferences\n  async createUserPreferences(insertPrefs: InsertUserPreferences): Promise<UserPreferences> {\n    const id = randomUUID();\n    const results = await this.db.insert(userPreferences).values({ ...insertPrefs, id }).returning();\n    return results[0];\n  }\n\n  async getUserPreferences(userId: string): Promise<UserPreferences | undefined> {\n    const results = await this.db.select().from(userPreferences).where(eq(userPreferences.userId, userId));\n    return results[0];\n  }\n\n  async updateUserPreferences(userId: string, prefs: Partial<InsertUserPreferences>): Promise<UserPreferences | undefined> {\n    const results = await this.db\n      .update(userPreferences)\n      .set({ ...prefs, updatedAt: new Date() })\n      .where(eq(userPreferences.userId, userId))\n      .returning();\n    return results[0];\n  }\n\n  // Campus Blocks\n  async getAllCampusBlocks(): Promise<CampusBlock[]> {\n    return await this.db.select().from(campusBlocks);\n  }\n\n  async getCampusBlock(id: string): Promise<CampusBlock | undefined> {\n    const results = await this.db.select().from(campusBlocks).where(eq(campusBlocks.id, id));\n    return results[0];\n  }\n\n  async createCampusBlock(insertBlock: InsertCampusBlock): Promise<CampusBlock> {\n    const id = randomUUID();\n    const results = await this.db.insert(campusBlocks).values({ ...insertBlock, id }).returning();\n    return results[0];\n  }\n\n  // Delivery Requests\n  async createDeliveryRequest(insertRequest: InsertDeliveryRequest): Promise<DeliveryRequest> {\n    const id = randomUUID();\n    const results = await this.db.insert(deliveryRequests).values({ ...insertRequest, id }).returning();\n    return results[0];\n  }\n\n  async getDeliveryRequest(id: string): Promise<DeliveryRequest | undefined> {\n    const results = await this.db.select().from(deliveryRequests).where(eq(deliveryRequests.id, id));\n    return results[0];\n  }\n\n  async getPendingDeliveryRequests(): Promise<DeliveryRequest[]> {\n    return await this.db.select().from(deliveryRequests).where(eq(deliveryRequests.status, 'pending'));\n  }\n\n  async getDeliveryRequestsByCustomer(customerId: string): Promise<DeliveryRequest[]> {\n    return await this.db.select().from(deliveryRequests).where(eq(deliveryRequests.customerId, customerId));\n  }\n\n  async getDeliveryRequestsByDeliveryPerson(deliveryPersonId: string): Promise<DeliveryRequest[]> {\n    return await this.db.select().from(deliveryRequests).where(eq(deliveryRequests.deliveryPersonId, deliveryPersonId));\n  }\n\n  async acceptDeliveryRequest(requestId: string, deliveryPersonId: string): Promise<DeliveryRequest | undefined> {\n    const results = await this.db\n      .update(deliveryRequests)\n      .set({ \n        deliveryPersonId,\n        status: 'accepted',\n        acceptedAt: new Date()\n      })\n      .where(eq(deliveryRequests.id, requestId))\n      .returning();\n    return results[0];\n  }\n\n  async updateDeliveryStatus(requestId: string, status: string): Promise<DeliveryRequest | undefined> {\n    const updateData: any = { status };\n    if (status === 'delivered') {\n      updateData.deliveredAt = new Date();\n    }\n    const results = await this.db\n      .update(deliveryRequests)\n      .set(updateData)\n      .where(eq(deliveryRequests.id, requestId))\n      .returning();\n    return results[0];\n  }\n\n  async rateDelivery(requestId: string, rating: number, review?: string): Promise<DeliveryRequest | undefined> {\n    const results = await this.db\n      .update(deliveryRequests)\n      .set({ customerRating: rating, customerReview: review || null })\n      .where(eq(deliveryRequests.id, requestId))\n      .returning();\n    return results[0];\n  }\n\n  // Delivery Earnings\n  async createDeliveryEarnings(insertEarnings: InsertDeliveryEarnings): Promise<DeliveryEarnings> {\n    const id = randomUUID();\n    const results = await this.db.insert(deliveryEarnings).values({ ...insertEarnings, id }).returning();\n    return results[0];\n  }\n\n  async getDeliveryPersonEarnings(deliveryPersonId: string): Promise<DeliveryEarnings[]> {\n    return await this.db.select().from(deliveryEarnings).where(eq(deliveryEarnings.deliveryPersonId, deliveryPersonId));\n  }\n\n  async getTotalEarnings(deliveryPersonId: string): Promise<number> {\n    const earnings = await this.getDeliveryPersonEarnings(deliveryPersonId);\n    return earnings.reduce((sum, e) => sum + parseFloat(e.totalEarning), 0);\n  }\n\n  // Vouchers\n  async createVoucher(insertVoucher: InsertVoucher): Promise<Voucher> {\n    const id = randomUUID();\n    const results = await this.db.insert(vouchers).values({ ...insertVoucher, id }).returning();\n    return results[0];\n  }\n\n  async getUserVouchers(userId: string, unusedOnly: boolean = false): Promise<Voucher[]> {\n    if (unusedOnly) {\n      return await this.db\n        .select()\n        .from(vouchers)\n        .where(and(eq(vouchers.userId, userId), eq(vouchers.used, false)));\n    }\n    return await this.db.select().from(vouchers).where(eq(vouchers.userId, userId));\n  }\n\n  async useVoucher(voucherId: string): Promise<Voucher | undefined> {\n    const results = await this.db\n      .update(vouchers)\n      .set({ used: true, usedAt: new Date() })\n      .where(eq(vouchers.id, voucherId))\n      .returning();\n    return results[0];\n  }\n}\n\nexport const storage = new DbStorage();\n","size_bytes":35419},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"shared/schema.ts":{"content":"import { pgTable, text, varchar, integer, decimal, timestamp, boolean } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\nimport { sql } from \"drizzle-orm\";\n\n// Canteens\nexport const canteens = pgTable(\"canteens\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  name: text(\"name\").notNull(),\n  location: text(\"location\").notNull(),\n  totalStalls: integer(\"total_stalls\").notNull().default(0),\n});\n\nexport const insertCanteenSchema = createInsertSchema(canteens).omit({ id: true });\nexport type InsertCanteen = z.infer<typeof insertCanteenSchema>;\nexport type Canteen = typeof canteens.$inferSelect;\n\n// Stalls\nexport const stalls = pgTable(\"stalls\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  canteenId: varchar(\"canteen_id\", { length: 255 }).notNull(),\n  name: text(\"name\").notNull(),\n  cuisineType: text(\"cuisine_type\").notNull(),\n  currentQueue: integer(\"current_queue\").notNull().default(0),\n  estimatedWaitTime: integer(\"estimated_wait_time\").notNull().default(0), // in minutes\n  rating: decimal(\"rating\", { precision: 3, scale: 2 }).default(\"0\"),\n  reviewCount: integer(\"review_count\").notNull().default(0),\n});\n\nexport const insertStallSchema = createInsertSchema(stalls).omit({ id: true, rating: true, reviewCount: true });\nexport type InsertStall = z.infer<typeof insertStallSchema>;\nexport type Stall = typeof stalls.$inferSelect;\n\n// Food Rescue Listings\nexport const foodListings = pgTable(\"food_listings\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  vendorId: varchar(\"vendor_id\", { length: 255 }).notNull(),\n  title: text(\"title\").notNull(),\n  description: text(\"description\").notNull(),\n  originalPrice: decimal(\"original_price\", { precision: 10, scale: 2 }).notNull(),\n  discountedPrice: decimal(\"discounted_price\", { precision: 10, scale: 2 }).notNull(),\n  quantity: integer(\"quantity\").notNull(),\n  pickupTimeStart: text(\"pickup_time_start\").notNull(),\n  pickupTimeEnd: text(\"pickup_time_end\").notNull(),\n  imageUrl: text(\"image_url\").notNull(),\n  available: boolean(\"available\").notNull().default(true),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertFoodListingSchema = createInsertSchema(foodListings).omit({ \n  id: true, \n  available: true, \n  createdAt: true \n});\nexport type InsertFoodListing = z.infer<typeof insertFoodListingSchema>;\nexport type FoodListing = typeof foodListings.$inferSelect;\n\n// Vendors\nexport const vendors = pgTable(\"vendors\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  name: text(\"name\").notNull(),\n  type: text(\"type\").notNull(), // bakery, restaurant, cafe, hawker\n  address: text(\"address\").notNull(),\n  operatingHours: text(\"operating_hours\").notNull(),\n  rating: decimal(\"rating\", { precision: 3, scale: 2 }).default(\"0\"),\n  reviewCount: integer(\"review_count\").notNull().default(0),\n  imageUrl: text(\"image_url\"),\n});\n\nexport const insertVendorSchema = createInsertSchema(vendors).omit({ \n  id: true, \n  rating: true, \n  reviewCount: true \n});\nexport type InsertVendor = z.infer<typeof insertVendorSchema>;\nexport type Vendor = typeof vendors.$inferSelect;\n\n// Ratings (for both stalls and vendors)\nexport const ratings = pgTable(\"ratings\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  entityType: text(\"entity_type\").notNull(), // 'stall' or 'vendor'\n  entityId: varchar(\"entity_id\", { length: 255 }).notNull(),\n  rating: integer(\"rating\").notNull(), // 1-5\n  review: text(\"review\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertRatingSchema = createInsertSchema(ratings).omit({ \n  id: true, \n  createdAt: true \n});\nexport type InsertRating = z.infer<typeof insertRatingSchema>;\nexport type Rating = typeof ratings.$inferSelect;\n\n// Users (for authentication and profiles)\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  username: text(\"username\").notNull().unique(),\n  email: text(\"email\").notNull().unique(),\n  passwordHash: text(\"password_hash\").notNull(),\n  fullName: text(\"full_name\").notNull(),\n  phoneNumber: text(\"phone_number\"),\n  currentBlockId: varchar(\"current_block_id\", { length: 255 }), // Current campus location\n  isDeliveryPerson: boolean(\"is_delivery_person\").notNull().default(false),\n  deliveryAvailable: boolean(\"delivery_available\").notNull().default(false),\n  totalDeliveries: integer(\"total_deliveries\").notNull().default(0),\n  voucherBalance: decimal(\"voucher_balance\", { precision: 10, scale: 2 }).notNull().default(\"0\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).omit({ \n  id: true, \n  totalDeliveries: true,\n  voucherBalance: true,\n  createdAt: true \n});\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\n// User Food Preferences\nexport const userPreferences = pgTable(\"user_preferences\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  userId: varchar(\"user_id\", { length: 255 }).notNull(),\n  cuisineTypes: text(\"cuisine_types\").array(), // ['Chinese', 'Western', 'Indian']\n  dietaryRestrictions: text(\"dietary_restrictions\").array(), // ['vegetarian', 'halal', 'no-pork']\n  spiceLevel: text(\"spice_level\"), // 'none', 'mild', 'medium', 'hot'\n  priceRange: text(\"price_range\"), // 'budget', 'moderate', 'premium'\n  maxQueueTime: integer(\"max_queue_time\").notNull().default(30), // Max acceptable wait in minutes\n  maxWalkingDistance: integer(\"max_walking_distance\").notNull().default(500), // Max distance in meters\n  preferLowCost: boolean(\"prefer_low_cost\").notNull().default(false),\n  avoidPeakHours: boolean(\"avoid_peak_hours\").notNull().default(false),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\nexport const insertUserPreferencesSchema = createInsertSchema(userPreferences).omit({ \n  id: true, \n  updatedAt: true \n});\nexport type InsertUserPreferences = z.infer<typeof insertUserPreferencesSchema>;\nexport type UserPreferences = typeof userPreferences.$inferSelect;\n\n// Campus Blocks/Buildings\nexport const campusBlocks = pgTable(\"campus_blocks\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  name: text(\"name\").notNull(), // 'Block A', 'Engineering Building', 'Library'\n  shortName: text(\"short_name\").notNull(), // 'BLK-A', 'ENG', 'LIB'\n  latitude: decimal(\"latitude\", { precision: 10, scale: 7 }),\n  longitude: decimal(\"longitude\", { precision: 10, scale: 7 }),\n  nearestCanteenId: varchar(\"nearest_canteen_id\", { length: 255 }),\n});\n\nexport const insertCampusBlockSchema = createInsertSchema(campusBlocks).omit({ id: true });\nexport type InsertCampusBlock = z.infer<typeof insertCampusBlockSchema>;\nexport type CampusBlock = typeof campusBlocks.$inferSelect;\n\n// Delivery Requests (Orders with delivery)\nexport const deliveryRequests = pgTable(\"delivery_requests\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  customerId: varchar(\"customer_id\", { length: 255 }).notNull(),\n  deliveryPersonId: varchar(\"delivery_person_id\", { length: 255 }),\n  stallId: varchar(\"stall_id\", { length: 255 }).notNull(),\n  foodItems: text(\"food_items\").notNull(), // JSON string of items\n  totalAmount: decimal(\"total_amount\", { precision: 10, scale: 2 }).notNull(),\n  deliveryFee: decimal(\"delivery_fee\", { precision: 10, scale: 2 }).notNull(),\n  isPeakHour: boolean(\"is_peak_hour\").notNull().default(false),\n  pickupLocation: text(\"pickup_location\").notNull(), // Canteen/stall location\n  deliveryLocation: text(\"delivery_location\").notNull(), // Campus block/building\n  deliveryBlockId: varchar(\"delivery_block_id\", { length: 255 }),\n  status: text(\"status\").notNull().default(\"pending\"), // pending, accepted, picked_up, delivering, delivered, cancelled\n  customerRating: integer(\"customer_rating\"), // 1-5\n  customerReview: text(\"customer_review\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  acceptedAt: timestamp(\"accepted_at\"),\n  deliveredAt: timestamp(\"delivered_at\"),\n});\n\nexport const insertDeliveryRequestSchema = createInsertSchema(deliveryRequests).omit({ \n  id: true,\n  deliveryPersonId: true,\n  status: true,\n  customerRating: true,\n  customerReview: true,\n  createdAt: true,\n  acceptedAt: true,\n  deliveredAt: true\n});\nexport type InsertDeliveryRequest = z.infer<typeof insertDeliveryRequestSchema>;\nexport type DeliveryRequest = typeof deliveryRequests.$inferSelect;\n\n// Delivery Earnings (Track earnings per delivery)\nexport const deliveryEarnings = pgTable(\"delivery_earnings\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  deliveryPersonId: varchar(\"delivery_person_id\", { length: 255 }).notNull(),\n  deliveryRequestId: varchar(\"delivery_request_id\", { length: 255 }).notNull(),\n  baseEarning: decimal(\"base_earning\", { precision: 10, scale: 2 }).notNull(),\n  peakBonus: decimal(\"peak_bonus\", { precision: 10, scale: 2 }).notNull().default(\"0\"),\n  totalEarning: decimal(\"total_earning\", { precision: 10, scale: 2 }).notNull(),\n  paidOut: boolean(\"paid_out\").notNull().default(false),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertDeliveryEarningsSchema = createInsertSchema(deliveryEarnings).omit({ \n  id: true,\n  paidOut: true,\n  createdAt: true\n});\nexport type InsertDeliveryEarnings = z.infer<typeof insertDeliveryEarningsSchema>;\nexport type DeliveryEarnings = typeof deliveryEarnings.$inferSelect;\n\n// Vouchers (Reward vouchers for delivery persons)\nexport const vouchers = pgTable(\"vouchers\", {\n  id: varchar(\"id\", { length: 255 }).primaryKey(),\n  userId: varchar(\"user_id\", { length: 255 }).notNull(),\n  amount: decimal(\"amount\", { precision: 10, scale: 2 }).notNull(),\n  reason: text(\"reason\").notNull(), // '5 deliveries milestone', 'Top deliverer bonus'\n  used: boolean(\"used\").notNull().default(false),\n  usedAt: timestamp(\"used_at\"),\n  expiresAt: timestamp(\"expires_at\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertVoucherSchema = createInsertSchema(vouchers).omit({ \n  id: true,\n  used: true,\n  usedAt: true,\n  createdAt: true\n});\nexport type InsertVoucher = z.infer<typeof insertVoucherSchema>;\nexport type Voucher = typeof vouchers.$inferSelect;\n","size_bytes":10181},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 100%;\n\n  --foreground: 0 0% 9%;\n\n  --border: 0 0% 89%;\n\n  --card: 0 0% 98%;\n\n  --card-foreground: 0 0% 9%;\n\n  --card-border: 0 0% 92%;\n\n  --sidebar: 0 0% 96%;\n\n  --sidebar-foreground: 0 0% 9%;\n\n  --sidebar-border: 0 0% 90%;\n\n  --sidebar-primary: 142 76% 36%;\n\n  --sidebar-primary-foreground: 144 61% 97%;\n\n  --sidebar-accent: 142 15% 88%;\n\n  --sidebar-accent-foreground: 142 15% 25%;\n\n  --sidebar-ring: 142 76% 36%;\n\n  --popover: 0 0% 94%;\n\n  --popover-foreground: 0 0% 9%;\n\n  --popover-border: 0 0% 87%;\n\n  --primary: 142 76% 36%;\n\n  --primary-foreground: 144 61% 97%;\n\n  --secondary: 0 0% 91%;\n\n  --secondary-foreground: 0 0% 15%;\n\n  --muted: 142 8% 90%;\n\n  --muted-foreground: 142 5% 40%;\n\n  --accent: 32 95% 88%;\n\n  --accent-foreground: 32 65% 25%;\n\n  --destructive: 0 84% 42%;\n\n  --destructive-foreground: 0 86% 97%;\n\n  --input: 0 0% 75%;\n  --ring: 142 76% 36%;\n  --chart-1: 142 76% 36%;\n  --chart-2: 32 95% 44%;\n  --chart-3: 200 80% 40%;\n  --chart-4: 280 65% 45%;\n  --chart-5: 20 90% 48%;\n\n  --font-sans: Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: .5rem; /* 8px */\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.05);\n  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.08);\n  --shadow-sm: 0px 2px 4px 0px hsl(0 0% 0% / 0.06), 0px 1px 2px -1px hsl(0 0% 0% / 0.06);\n  --shadow: 0px 4px 6px -1px hsl(0 0% 0% / 0.08), 0px 2px 4px -2px hsl(0 0% 0% / 0.05);\n  --shadow-md: 0px 6px 12px -2px hsl(0 0% 0% / 0.10), 0px 3px 6px -3px hsl(0 0% 0% / 0.08);\n  --shadow-lg: 0px 10px 20px -4px hsl(0 0% 0% / 0.12), 0px 4px 8px -4px hsl(0 0% 0% / 0.08);\n  --shadow-xl: 0px 20px 30px -8px hsl(0 0% 0% / 0.15), 0px 8px 12px -6px hsl(0 0% 0% / 0.10);\n  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.20);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 0 0% 7%;\n\n  --foreground: 0 0% 98%;\n\n  --border: 0 0% 18%;\n\n  --card: 0 0% 10%;\n\n  --card-foreground: 0 0% 98%;\n\n  --card-border: 0 0% 15%;\n\n  --sidebar: 0 0% 12%;\n\n  --sidebar-foreground: 0 0% 98%;\n\n  --sidebar-border: 0 0% 18%;\n\n  --sidebar-primary: 142 70% 40%;\n\n  --sidebar-primary-foreground: 144 61% 97%;\n\n  --sidebar-accent: 142 12% 20%;\n\n  --sidebar-accent-foreground: 142 12% 85%;\n\n  --sidebar-ring: 142 70% 40%;\n\n  --popover: 0 0% 14%;\n\n  --popover-foreground: 0 0% 98%;\n\n  --popover-border: 0 0% 20%;\n\n  --primary: 142 70% 40%;\n\n  --primary-foreground: 144 61% 97%;\n\n  --secondary: 0 0% 18%;\n\n  --secondary-foreground: 0 0% 92%;\n\n  --muted: 142 6% 16%;\n\n  --muted-foreground: 142 4% 70%;\n\n  --accent: 32 20% 18%;\n\n  --accent-foreground: 32 20% 88%;\n\n  --destructive: 0 72% 45%;\n\n  --destructive-foreground: 0 86% 97%;\n\n  /* Used as the border around inputs. Dark mode: Should be a border that is light enough to have high contrast when rendered on a --card background. More contrast than standard --border */\n  --input: 0 0% 30%;\n  --ring: 142 70% 40%;\n  --chart-1: 142 70% 55%;\n  --chart-2: 32 95% 60%;\n  --chart-3: 200 80% 60%;\n  --chart-4: 280 65% 65%;\n  --chart-5: 20 90% 65%;\n\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.30);\n  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.35);\n  --shadow-sm: 0px 2px 4px 0px hsl(0 0% 0% / 0.30), 0px 1px 2px -1px hsl(0 0% 0% / 0.30);\n  --shadow: 0px 4px 6px -1px hsl(0 0% 0% / 0.35), 0px 2px 4px -2px hsl(0 0% 0% / 0.30);\n  --shadow-md: 0px 6px 12px -2px hsl(0 0% 0% / 0.40), 0px 3px 6px -3px hsl(0 0% 0% / 0.35);\n  --shadow-lg: 0px 10px 20px -4px hsl(0 0% 0% / 0.45), 0px 4px 8px -4px hsl(0 0% 0% / 0.35);\n  --shadow-xl: 0px 20px 30px -8px hsl(0 0% 0% / 0.50), 0px 8px 12px -6px hsl(0 0% 0% / 0.40);\n  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.60);\n\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":9932},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"server/services/recommendations.ts":{"content":"import type { Stall, User, UserPreferences, CampusBlock, Canteen } from \"@shared/schema\";\n\n// Configuration for recommendation weights\nconst WEIGHTS = {\n  PREFERENCE: 0.35,\n  PROXIMITY: 0.25,\n  QUEUE: 0.20,\n  RATING: 0.20,\n};\n\nexport interface ScoredStall {\n  stall: Stall;\n  canteen: Canteen;\n  distance?: number;\n  score: number;\n  breakdown: {\n    preferenceScore: number;\n    proximityScore: number;\n    queueScore: number;\n    ratingScore: number;\n  };\n  confidence: 'high' | 'medium' | 'low';\n}\n\n/**\n * Calculate distance between two GPS coordinates using Haversine formula\n * Returns distance in meters\n */\nfunction calculateDistance(\n  lat1: number,\n  lon1: number,\n  lat2: number,\n  lon2: number\n): number {\n  const R = 6371e3; // Earth's radius in meters\n  const 1 = (lat1 * Math.PI) / 180;\n  const 2 = (lat2 * Math.PI) / 180;\n  const  = ((lat2 - lat1) * Math.PI) / 180;\n  const  = ((lon2 - lon1) * Math.PI) / 180;\n\n  const a =\n    Math.sin( / 2) * Math.sin( / 2) +\n    Math.cos(1) * Math.cos(2) * Math.sin( / 2) * Math.sin( / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n  return R * c; // Distance in meters\n}\n\n/**\n * Calculate Jaccard similarity between user cuisine preferences and stall cuisine\n * Returns a value between 0 and 1\n */\nfunction calculatePreferenceScore(\n  userCuisines: string[],\n  stallCuisine: string,\n  dietaryRestrictions: string[]\n): number {\n  // If user has dietary restrictions that conflict with the stall, penalize heavily\n  // For now, we'll implement basic logic (can be extended with a restrictions database)\n  const hasConflict = dietaryRestrictions.some(restriction => {\n    if (restriction.toLowerCase() === 'vegetarian' && stallCuisine.toLowerCase().includes('meat')) {\n      return true;\n    }\n    if (restriction.toLowerCase() === 'halal' && !stallCuisine.toLowerCase().includes('halal')) {\n      return true;\n    }\n    return false;\n  });\n\n  if (hasConflict) return 0;\n\n  // Check if stall cuisine matches any user preference\n  const isPreferred = userCuisines.some(\n    cuisine => cuisine.toLowerCase() === stallCuisine.toLowerCase()\n  );\n\n  // Return higher score for exact match, lower for non-match\n  return isPreferred ? 1.0 : 0.3;\n}\n\n/**\n * Normalize proximity using inverse distance curve\n * Closer stalls get higher scores (0-1 scale)\n */\nfunction normalizeProximity(distanceMeters: number, maxDistance: number): number {\n  if (distanceMeters >= maxDistance) return 0;\n  // Use inverse curve: score = 1 - (distance / maxDistance)\n  return 1 - distanceMeters / maxDistance;\n}\n\n/**\n * Normalize queue time - shorter waits get higher scores\n * Returns 0-1 scale\n */\nfunction normalizeQueueTime(waitMinutes: number, maxWait: number): number {\n  if (waitMinutes >= maxWait) return 0;\n  // Inverse: shorter wait = higher score\n  return 1 - waitMinutes / maxWait;\n}\n\n/**\n * Normalize rating from 0-5 scale to 0-1 scale\n */\nfunction normalizeRating(rating: string): number {\n  const ratingNum = parseFloat(rating);\n  if (isNaN(ratingNum)) return 0.5; // Default middle score for missing ratings\n  return Math.min(ratingNum / 5.0, 1.0);\n}\n\n/**\n * Main recommendation engine\n * Returns ranked list of stalls with scores\n */\nexport function calculateRecommendations(\n  user: User,\n  preferences: UserPreferences | undefined,\n  userBlock: CampusBlock | undefined,\n  stalls: Stall[],\n  canteens: Canteen[],\n  blocks: CampusBlock[]\n): ScoredStall[] {\n  // Set defaults if preferences not available\n  const prefs = preferences || {\n    cuisineTypes: [],\n    dietaryRestrictions: [],\n    maxQueueTime: 30,\n    maxWalkingDistance: 1000,\n    preferLowCost: false,\n    avoidPeakHours: false,\n  };\n\n  // Handle nullable fields with defaults\n  const cuisineTypes = (prefs.cuisineTypes || []) as string[];\n  const dietaryRestrictions = (prefs.dietaryRestrictions || []) as string[];\n  const maxQueueTime = prefs.maxQueueTime || 30;\n  const maxWalkingDistance = prefs.maxWalkingDistance || 1000;\n\n  // Determine confidence level based on available data\n  let confidence: 'high' | 'medium' | 'low' = 'high';\n  if (!userBlock) confidence = 'low';\n  else if (!preferences || cuisineTypes.length === 0) confidence = 'medium';\n\n  // Pre-calculate distances for all stalls\n  const stallsWithDistance = stalls.map(stall => {\n    const canteen = canteens.find(c => c.id === stall.canteenId);\n    let distance: number | undefined;\n    \n    if (userBlock && canteen) {\n      const canteenBlock = blocks.find(b => b.nearestCanteenId === canteen.id);\n      if (canteenBlock && canteenBlock.latitude && canteenBlock.longitude) {\n        distance = calculateDistance(\n          parseFloat(userBlock.latitude || \"0\"),\n          parseFloat(userBlock.longitude || \"0\"),\n          parseFloat(canteenBlock.latitude || \"0\"),\n          parseFloat(canteenBlock.longitude || \"0\")\n        );\n      }\n    }\n    \n    return { stall, canteen, distance };\n  });\n\n  // Hard filters: remove stalls that exceed limits\n  const filteredStalls = stallsWithDistance.filter(({ stall, distance }) => {\n    // Filter by max queue time\n    if (stall.estimatedWaitTime > maxQueueTime) {\n      return false;\n    }\n    \n    // Filter by max walking distance (hard filter - MUST enforce)\n    if (distance !== undefined && distance > maxWalkingDistance) {\n      return false;\n    }\n    \n    return true;\n  });\n\n  // Score each stall\n  const scoredStalls: ScoredStall[] = filteredStalls.map(({ stall, canteen, distance }) => {\n    // Calculate proximity score (distance already computed)\n    let proximityScore = 0.5; // Default neutral score if no location data\n    \n    if (distance !== undefined) {\n      proximityScore = normalizeProximity(distance, maxWalkingDistance);\n    }\n\n    // Calculate preference score\n    const preferenceScore = cuisineTypes.length > 0\n      ? calculatePreferenceScore(cuisineTypes, stall.cuisineType, dietaryRestrictions)\n      : 0.5; // Neutral if no preferences set\n\n    // Calculate queue score\n    const queueScore = normalizeQueueTime(stall.estimatedWaitTime, maxQueueTime);\n\n    // Calculate rating score\n    const ratingScore = normalizeRating(stall.rating || \"3.5\");\n\n    // Calculate weighted total score\n    const totalScore =\n      preferenceScore * WEIGHTS.PREFERENCE +\n      proximityScore * WEIGHTS.PROXIMITY +\n      queueScore * WEIGHTS.QUEUE +\n      ratingScore * WEIGHTS.RATING;\n\n    return {\n      stall,\n      canteen: canteen!,\n      distance,\n      score: totalScore,\n      breakdown: {\n        preferenceScore,\n        proximityScore,\n        queueScore,\n        ratingScore,\n      },\n      confidence,\n    };\n  });\n\n  // Filter out stalls with very low scores (likely exceeded distance limits)\n  const validStalls = scoredStalls.filter(s => s.score > 0.1);\n\n  // Sort by score descending\n  return validStalls.sort((a, b) => b.score - a.score);\n}\n","size_bytes":6844},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport path from \"path\";\nimport {\n  insertStallSchema,\n  insertFoodListingSchema,\n  insertVendorSchema,\n  insertRatingSchema,\n  insertUserSchema,\n  insertUserPreferencesSchema,\n  insertDeliveryRequestSchema,\n} from \"@shared/schema\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Set up EJS as view engine\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", path.join(process.cwd(), \"views\"));\n\n  // Serve static files\n  app.use(\"/public\", (req, res, next) => {\n    res.sendFile(path.join(process.cwd(), req.path), (err) => {\n      if (err) next();\n    });\n  });\n\n  // Serve generated images\n  app.use(\"/assets\", (req, res, next) => {\n    res.sendFile(path.join(process.cwd(), \"attached_assets\", req.path), (err) => {\n      if (err) next();\n    });\n  });\n\n  // ===== PAGE ROUTES =====\n\n  // Home page - redirects to queue monitor\n  app.get(\"/\", (req, res) => {\n    res.redirect(\"/queue-monitor\");\n  });\n\n  // Queue Monitor Dashboard\n  app.get(\"/queue-monitor\", async (req, res) => {\n    try {\n      const canteens = await storage.getAllCanteens();\n      const stalls = await storage.getAllStalls();\n      \n      // Group stalls by canteen\n      const canteenData = canteens.map(canteen => ({\n        ...canteen,\n        stalls: stalls.filter(s => s.canteenId === canteen.id),\n      }));\n\n      res.render(\"queue-monitor\", {\n        title: \"Queue Monitor - Food Rescue SG\",\n        canteens: canteenData,\n        activePage: \"queue\",\n      });\n    } catch (error) {\n      console.error(\"Error rendering queue monitor:\", error);\n      res.status(500).send(\"Error loading queue monitor\");\n    }\n  });\n\n  // Food Rescue Marketplace\n  app.get(\"/food-rescue\", async (req, res) => {\n    try {\n      const listings = await storage.getAllFoodListings(true);\n      const vendors = await storage.getAllVendors();\n      \n      // Enrich listings with vendor data\n      const enrichedListings = listings.map(listing => ({\n        ...listing,\n        vendor: vendors.find(v => v.id === listing.vendorId),\n      }));\n\n      // Calculate impact statistics\n      const totalSaved = listings.reduce((sum, l) => \n        sum + (parseFloat(l.originalPrice) - parseFloat(l.discountedPrice)) * l.quantity, 0\n      );\n      const mealsRescued = listings.reduce((sum, l) => sum + l.quantity, 0);\n      const co2Reduced = mealsRescued * 2.5; // Assuming 2.5kg CO2 per meal\n\n      res.render(\"food-rescue\", {\n        title: \"Food Rescue SG - Save Food, Save Money, Save Tomorrow\",\n        listings: enrichedListings,\n        vendors,\n        stats: {\n          totalSaved: totalSaved.toFixed(2),\n          mealsRescued,\n          co2Reduced: co2Reduced.toFixed(1),\n        },\n        activePage: \"rescue\",\n      });\n    } catch (error) {\n      console.error(\"Error rendering food rescue:\", error);\n      res.status(500).send(\"Error loading food rescue marketplace\");\n    }\n  });\n\n  // Vendor Portal\n  app.get(\"/vendor-portal\", async (req, res) => {\n    try {\n      const vendors = await storage.getAllVendors();\n      res.render(\"vendor-portal\", {\n        title: \"Vendor Portal - Food Rescue SG\",\n        vendors,\n        activePage: \"vendor\",\n      });\n    } catch (error) {\n      console.error(\"Error rendering vendor portal:\", error);\n      res.status(500).send(\"Error loading vendor portal\");\n    }\n  });\n\n  // Smart Recommendations\n  app.get(\"/recommendations\", async (req, res) => {\n    try {\n      const blocks = await storage.getAllCampusBlocks();\n      \n      // For demo purposes, create or get a test user\n      let testUser = await storage.getUserByUsername(\"demo_user\");\n      if (!testUser) {\n        testUser = await storage.createUser({\n          username: \"demo_user\",\n          email: \"demo@foodrescue.sg\",\n          passwordHash: \"demo_hash\",\n          fullName: \"Demo User\",\n          currentBlockId: blocks[0]?.id || null,\n          deliveryAvailable: false,\n        });\n        \n        // Create default preferences\n        await storage.createUserPreferences({\n          userId: testUser.id,\n          cuisineTypes: [\"Chinese\", \"Western\", \"Japanese\"],\n          dietaryRestrictions: [],\n          maxQueueTime: 30,\n          maxWalkingDistance: 500,\n          preferLowCost: true,\n          avoidPeakHours: true,\n        });\n      }\n      \n      const userPrefs = await storage.getUserPreferences(testUser.id);\n      const currentBlock = testUser.currentBlockId ? await storage.getCampusBlock(testUser.currentBlockId) : null;\n      \n      res.render(\"recommendations\", {\n        title: \"Smart Recommendations - Food Rescue SG\",\n        user: testUser,\n        preferences: userPrefs,\n        currentBlock,\n        blocks,\n        activePage: \"recommendations\",\n      });\n    } catch (error) {\n      console.error(\"Error rendering recommendations:\", error);\n      res.status(500).send(\"Error loading recommendations\");\n    }\n  });\n\n  // Order Food with Delivery\n  app.get(\"/order-food\", async (req, res) => {\n    try {\n      const stalls = await storage.getAllStalls();\n      const canteens = await storage.getAllCanteens();\n      const blocks = await storage.getAllCampusBlocks();\n      \n      // Get demo user\n      let testUser = await storage.getUserByUsername(\"demo_user\");\n      if (!testUser) {\n        testUser = await storage.createUser({\n          username: \"demo_user\",\n          email: \"demo@foodrescue.sg\",\n          passwordHash: \"demo_hash\",\n          fullName: \"Demo User\",\n          currentBlockId: blocks[0]?.id || null,\n          deliveryAvailable: false,\n        });\n      }\n      \n      const currentBlock = testUser.currentBlockId ? await storage.getCampusBlock(testUser.currentBlockId) : null;\n      \n      // Check if it's peak hour (11:30-13:30 or 17:30-19:30 Singapore time)\n      const now = new Date();\n      const sgHour = (now.getUTCHours() + 8) % 24; // Singapore is UTC+8\n      const sgMinute = now.getUTCMinutes();\n      const isPeakHour = \n        (sgHour === 11 && sgMinute >= 30) || \n        (sgHour === 12) || \n        (sgHour === 13 && sgMinute < 30) ||\n        (sgHour === 17 && sgMinute >= 30) || \n        (sgHour === 18) || \n        (sgHour === 19 && sgMinute < 30);\n      \n      res.render(\"order-food\", {\n        title: \"Order Food - Food Rescue SG\",\n        stalls,\n        canteens,\n        campusBlocks: blocks,\n        user: testUser,\n        currentBlock,\n        isPeakHour,\n        activePage: \"order\",\n      });\n    } catch (error) {\n      console.error(\"Error rendering order food:\", error);\n      res.status(500).send(\"Error loading order page\");\n    }\n  });\n\n  // Delivery Hub\n  app.get(\"/delivery-hub\", async (req, res) => {\n    try {\n      const blocks = await storage.getAllCampusBlocks();\n      \n      // Get demo user\n      let testUser = await storage.getUserByUsername(\"demo_user\");\n      if (!testUser) {\n        testUser = await storage.createUser({\n          username: \"demo_user\",\n          email: \"demo@foodrescue.sg\",\n          passwordHash: \"demo_hash\",\n          fullName: \"Demo User\",\n          currentBlockId: blocks[0]?.id || null,\n          deliveryAvailable: false,\n          isDeliveryPerson: false,\n        });\n      }\n      \n      // Get pending delivery requests (only if user is online)\n      let pendingRequests: any[] = [];\n      if (testUser.isDeliveryPerson && testUser.deliveryAvailable) {\n        const rawRequests = await storage.getPendingDeliveryRequests();\n        const stalls = await storage.getAllStalls();\n        const canteens = await storage.getAllCanteens();\n        \n        // Enrich with stall and canteen names\n        pendingRequests = rawRequests.map(req => {\n          const stall = stalls.find(s => s.id === req.stallId);\n          const canteen = canteens.find(c => c.id === stall?.canteenId);\n          return {\n            ...req,\n            stallName: stall?.name || 'Unknown Stall',\n            canteenName: canteen?.name || 'Unknown Canteen',\n          };\n        });\n      }\n      \n      // Get user's active deliveries\n      let myDeliveries: any[] = [];\n      if (testUser.isDeliveryPerson) {\n        const rawDeliveries = await storage.getDeliveryRequestsByDeliveryPerson(testUser.id);\n        const stalls = await storage.getAllStalls();\n        const canteens = await storage.getAllCanteens();\n        \n        // Filter out cancelled/pending, enrich with names\n        myDeliveries = rawDeliveries\n          .filter(d => d.status !== 'cancelled' && d.status !== 'pending')\n          .map(req => {\n            const stall = stalls.find(s => s.id === req.stallId);\n            const canteen = canteens.find(c => c.id === stall?.canteenId);\n            return {\n              ...req,\n              stallName: stall?.name || 'Unknown Stall',\n              canteenName: canteen?.name || 'Unknown Canteen',\n            };\n          });\n      }\n      \n      // Get earnings data\n      let earningsHistory: any[] = [];\n      let totalEarnings = 0;\n      if (testUser.isDeliveryPerson) {\n        earningsHistory = await storage.getDeliveryPersonEarnings(testUser.id);\n        totalEarnings = await storage.getTotalEarnings(testUser.id);\n      }\n      \n      // Get vouchers\n      const vouchers = await storage.getUserVouchers(testUser.id, false);\n      \n      res.render(\"delivery-hub\", {\n        title: \"Delivery Hub - Food Rescue SG\",\n        user: testUser,\n        campusBlocks: blocks,\n        pendingRequests,\n        pendingCount: pendingRequests.length,\n        myDeliveries,\n        earningsHistory,\n        totalEarnings: totalEarnings.toFixed(2),\n        vouchers,\n        activePage: \"delivery\",\n      });\n    } catch (error) {\n      console.error(\"Error rendering delivery hub:\", error);\n      res.status(500).send(\"Error loading delivery hub\");\n    }\n  });\n\n  // Admin Dashboard\n  app.get(\"/admin\", async (req, res) => {\n    try {\n      const canteens = await storage.getAllCanteens();\n      const stalls = await storage.getAllStalls();\n      const vendors = await storage.getAllVendors();\n      const listings = await storage.getAllFoodListings();\n      const ratings = await storage.getAllRatings();\n\n      res.render(\"admin\", {\n        title: \"Admin Dashboard - Food Rescue SG\",\n        canteens,\n        stalls,\n        vendors,\n        listings,\n        stats: {\n          totalCanteens: canteens.length,\n          totalStalls: stalls.length,\n          totalVendors: vendors.length,\n          activeListings: listings.filter(l => l.available).length,\n          totalRatings: ratings.length,\n        },\n        activePage: \"admin\",\n      });\n    } catch (error) {\n      console.error(\"Error rendering admin dashboard:\", error);\n      res.status(500).send(\"Error loading admin dashboard\");\n    }\n  });\n\n  // ===== API ROUTES =====\n\n  // Get all campus blocks\n  app.get(\"/api/campus-blocks\", async (req, res) => {\n    try {\n      const blocks = await storage.getAllCampusBlocks();\n      res.json(blocks);\n    } catch (error) {\n      console.error(\"Error fetching campus blocks:\", error);\n      res.status(500).json({ error: \"Failed to fetch campus blocks\" });\n    }\n  });\n\n  // Get user by ID\n  app.get(\"/api/users/:userId\", async (req, res) => {\n    try {\n      const user = await storage.getUser(req.params.userId);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      res.json(user);\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n      res.status(500).json({ error: \"Failed to fetch user\" });\n    }\n  });\n\n  // Get smart recommendations for a user\n  app.get(\"/api/recommendations/:userId\", async (req, res) => {\n    try {\n      const { calculateRecommendations } = await import(\"./services/recommendations\");\n      \n      const user = await storage.getUser(req.params.userId);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n\n      const preferences = await storage.getUserPreferences(user.id);\n      const userBlock = user.currentBlockId \n        ? await storage.getCampusBlock(user.currentBlockId)\n        : undefined;\n      \n      const stalls = await storage.getAllStalls();\n      const canteens = await storage.getAllCanteens();\n      const blocks = await storage.getAllCampusBlocks();\n\n      const recommendations = calculateRecommendations(\n        user,\n        preferences,\n        userBlock,\n        stalls,\n        canteens,\n        blocks\n      );\n\n      res.json(recommendations);\n    } catch (error) {\n      console.error(\"Error calculating recommendations:\", error);\n      res.status(500).json({ error: \"Failed to calculate recommendations\" });\n    }\n  });\n\n  // Update user location\n  app.patch(\"/api/users/:userId/location\", async (req, res) => {\n    try {\n      const { blockId } = req.body;\n      const user = await storage.updateUserLocation(req.params.userId, blockId);\n      res.json(user);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to update location\" });\n    }\n  });\n\n  // Update user preferences\n  app.patch(\"/api/users/:userId/preferences\", async (req, res) => {\n    try {\n      const validatedData = insertUserPreferencesSchema.partial().parse(req.body);\n      const preferences = await storage.updateUserPreferences(\n        req.params.userId,\n        validatedData\n      );\n      res.json(preferences);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid preferences data\" });\n    }\n  });\n\n  // Create delivery request (order food with delivery)\n  app.post(\"/api/delivery-requests\", async (req, res) => {\n    try {\n      // Get demo user for customer ID\n      const demoUser = await storage.getUserByUsername(\"demo_user\");\n      if (!demoUser) {\n        return res.status(400).json({ error: \"User not found\" });\n      }\n\n      // SERVER-SIDE PRICING CALCULATION & VALIDATION (SECURITY)\n      // Parse and validate food total\n      const foodTotal = parseFloat(req.body.totalAmount || \"0\");\n      if (isNaN(foodTotal) || foodTotal <= 0 || foodTotal > 1000) {\n        return res.status(400).json({ error: \"Invalid food total amount (must be between $0.01 and $1000)\" });\n      }\n      \n      // Validate stall exists\n      const stall = await storage.getStall(req.body.stallId);\n      if (!stall) {\n        return res.status(400).json({ error: \"Invalid stall ID\" });\n      }\n      \n      // Sanitize text inputs (prevent XSS)\n      const sanitizeText = (text: string): string => {\n        return text\n          .replace(/</g, '&lt;')\n          .replace(/>/g, '&gt;')\n          .replace(/\"/g, '&quot;')\n          .replace(/'/g, '&#x27;')\n          .replace(/\\//g, '&#x2F;')\n          .substring(0, 500); // Max length\n      };\n      \n      const foodItems = sanitizeText(req.body.foodItems || \"\");\n      if (foodItems.trim().length === 0) {\n        return res.status(400).json({ error: \"Food items cannot be empty\" });\n      }\n      \n      const pickupLocation = sanitizeText(req.body.pickupLocation || \"\");\n      const deliveryLocation = sanitizeText(req.body.deliveryLocation || \"\");\n      \n      // Validate delivery block exists\n      if (req.body.deliveryBlockId) {\n        const block = await storage.getCampusBlock(req.body.deliveryBlockId);\n        if (!block) {\n          return res.status(400).json({ error: \"Invalid delivery location\" });\n        }\n      }\n      \n      const requestData = req.body;\n      \n      // Calculate peak hour status (SERVER TIME - cannot be spoofed)\n      const now = new Date();\n      const sgHour = (now.getUTCHours() + 8) % 24; // Singapore is UTC+8\n      const sgMinute = now.getUTCMinutes();\n      const isPeakHour = \n        (sgHour === 11 && sgMinute >= 30) || \n        (sgHour === 12) || \n        (sgHour === 13 && sgMinute < 30) ||\n        (sgHour === 17 && sgMinute >= 30) || \n        (sgHour === 18) || \n        (sgHour === 19 && sgMinute < 30);\n      \n      // Calculate delivery fee (SERVER-AUTHORITATIVE)\n      const baseDeliveryFee = 1.50;\n      const peakSurcharge = 0.50;\n      const deliveryFee = isPeakHour ? baseDeliveryFee + peakSurcharge : baseDeliveryFee;\n      \n      // Calculate correct total\n      const correctTotal = foodTotal + deliveryFee;\n      \n      // Note: Client also sends their calculated total, but we ignore it for security\n\n      const validatedData = insertDeliveryRequestSchema.parse({\n        customerId: demoUser.id,\n        stallId: requestData.stallId,\n        foodItems, // Sanitized\n        totalAmount: foodTotal.toFixed(2), // Food total only, validated\n        deliveryFee: deliveryFee.toFixed(2), // Server-calculated\n        isPeakHour, // Server-determined\n        pickupLocation, // Sanitized\n        deliveryLocation, // Sanitized\n        deliveryBlockId: requestData.deliveryBlockId, // Validated\n      });\n      \n      const deliveryRequest = await storage.createDeliveryRequest(validatedData);\n      res.json(deliveryRequest);\n    } catch (error) {\n      console.error(\"Error creating delivery request:\", error);\n      res.status(400).json({ error: \"Invalid delivery request data\" });\n    }\n  });\n\n  // Get pending delivery requests (for delivery persons)\n  app.get(\"/api/delivery-requests/pending\", async (req, res) => {\n    try {\n      const requests = await storage.getPendingDeliveryRequests();\n      res.json(requests);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch pending requests\" });\n    }\n  });\n\n  // Get customer's delivery requests\n  app.get(\"/api/delivery-requests/customer/:customerId\", async (req, res) => {\n    try {\n      const requests = await storage.getDeliveryRequestsByCustomer(req.params.customerId);\n      res.json(requests);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch customer requests\" });\n    }\n  });\n\n  // Register as delivery person\n  app.post(\"/api/users/register-delivery-person\", async (req, res) => {\n    try {\n      const { phoneNumber, currentBlockId } = req.body;\n      \n      // Get demo user\n      const user = await storage.getUserByUsername(\"demo_user\");\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      \n      // Update user to be a delivery person\n      await storage.toggleDeliveryAvailability(user.id, false); // Start as offline\n      \n      // TODO: Update phone number and location when storage method is available\n      // For now, this just sets isDeliveryPerson flag via the toggleDeliveryAvailability method\n      \n      res.json({ success: true, message: \"Registered as delivery person\" });\n    } catch (error) {\n      console.error(\"Error registering delivery person:\", error);\n      res.status(500).json({ error: \"Failed to register as delivery person\" });\n    }\n  });\n\n  // Toggle delivery availability\n  app.post(\"/api/users/toggle-availability\", async (req, res) => {\n    try {\n      const { available } = req.body;\n      \n      // Get demo user\n      const user = await storage.getUserByUsername(\"demo_user\");\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      \n      const updatedUser = await storage.toggleDeliveryAvailability(user.id, available);\n      res.json(updatedUser);\n    } catch (error) {\n      console.error(\"Error toggling availability:\", error);\n      res.status(500).json({ error: \"Failed to toggle availability\" });\n    }\n  });\n\n  // Accept delivery request\n  app.patch(\"/api/delivery-requests/:id/accept\", async (req, res) => {\n    try {\n      // Get demo user as delivery person\n      const user = await storage.getUserByUsername(\"demo_user\");\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      \n      if (!user.isDeliveryPerson) {\n        return res.status(403).json({ error: \"User is not a delivery person\" });\n      }\n      \n      const request = await storage.acceptDeliveryRequest(req.params.id, user.id);\n      \n      if (!request) {\n        return res.status(404).json({ error: \"Delivery request not found\" });\n      }\n      \n      res.json(request);\n    } catch (error) {\n      console.error(\"Error accepting delivery request:\", error);\n      res.status(500).json({ error: \"Failed to accept delivery request\" });\n    }\n  });\n\n  // Update delivery status\n  app.patch(\"/api/delivery-requests/:id/status\", async (req, res) => {\n    try {\n      const { status } = req.body;\n      const request = await storage.updateDeliveryStatus(req.params.id, status);\n      res.json(request);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to update delivery status\" });\n    }\n  });\n\n  // Get all stalls for a canteen\n  app.get(\"/api/canteens/:id/stalls\", async (req, res) => {\n    try {\n      const stalls = await storage.getStallsByCanteen(req.params.id);\n      res.json(stalls);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch stalls\" });\n    }\n  });\n\n  // Update stall queue\n  app.post(\"/api/stalls/:id/queue\", async (req, res) => {\n    try {\n      const { queueNumber, waitTime } = req.body;\n      const stall = await storage.updateStallQueue(\n        req.params.id,\n        parseInt(queueNumber),\n        parseInt(waitTime)\n      );\n      res.json(stall);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to update queue\" });\n    }\n  });\n\n  // Create food listing\n  app.post(\"/api/food-listings\", async (req, res) => {\n    try {\n      const validatedData = insertFoodListingSchema.parse(req.body);\n      const listing = await storage.createFoodListing(validatedData);\n      res.json(listing);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid food listing data\" });\n    }\n  });\n\n  // Get all food listings\n  app.get(\"/api/food-listings\", async (req, res) => {\n    try {\n      const availableOnly = req.query.available === \"true\";\n      const listings = await storage.getAllFoodListings(availableOnly);\n      res.json(listings);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch listings\" });\n    }\n  });\n\n  // Update food listing availability\n  app.patch(\"/api/food-listings/:id/availability\", async (req, res) => {\n    try {\n      const { available } = req.body;\n      const listing = await storage.updateFoodListingAvailability(\n        req.params.id,\n        available\n      );\n      res.json(listing);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to update availability\" });\n    }\n  });\n\n  // Create vendor\n  app.post(\"/api/vendors\", async (req, res) => {\n    try {\n      const validatedData = insertVendorSchema.parse(req.body);\n      const vendor = await storage.createVendor(validatedData);\n      res.json(vendor);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid vendor data\" });\n    }\n  });\n\n  // Submit rating\n  app.post(\"/api/ratings\", async (req, res) => {\n    try {\n      const validatedData = insertRatingSchema.parse(req.body);\n      const rating = await storage.createRating(validatedData);\n      res.json(rating);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid rating data\" });\n    }\n  });\n\n  // Get ratings for an entity\n  app.get(\"/api/ratings/:entityType/:entityId\", async (req, res) => {\n    try {\n      const ratings = await storage.getRatingsByEntity(\n        req.params.entityType,\n        req.params.entityId\n      );\n      res.json(ratings);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch ratings\" });\n    }\n  });\n\n  // Simulate real-time queue updates\n  app.post(\"/api/simulate-queue-update\", async (req, res) => {\n    try {\n      const stalls = await storage.getAllStalls();\n      // Randomly update some stalls\n      for (const stall of stalls) {\n        if (Math.random() > 0.7) {\n          const change = Math.floor(Math.random() * 5) - 2; // -2 to +2\n          const newQueue = Math.max(0, stall.currentQueue + change);\n          const newWait = Math.ceil(newQueue * 2.5);\n          await storage.updateStallQueue(stall.id, newQueue, newWait);\n        }\n      }\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to simulate update\" });\n    }\n  });\n\n  // ===== ADMIN API ROUTES =====\n\n  // Get all canteens\n  app.get(\"/api/canteens\", async (req, res) => {\n    try {\n      const canteens = await storage.getAllCanteens();\n      res.json(canteens);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch canteens\" });\n    }\n  });\n\n  // Create canteen\n  app.post(\"/api/canteens\", async (req, res) => {\n    try {\n      const { name, location } = req.body;\n      const canteen = await storage.createCanteen({ name, location });\n      res.json(canteen);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid canteen data\" });\n    }\n  });\n\n  // Delete canteen\n  app.delete(\"/api/canteens/:id\", async (req, res) => {\n    try {\n      await storage.deleteCanteen(req.params.id);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete canteen\" });\n    }\n  });\n\n  // Create stall\n  app.post(\"/api/stalls\", async (req, res) => {\n    try {\n      const validatedData = insertStallSchema.parse(req.body);\n      const stall = await storage.createStall(validatedData);\n      res.json(stall);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid stall data\" });\n    }\n  });\n\n  // Delete stall\n  app.delete(\"/api/stalls/:id\", async (req, res) => {\n    try {\n      await storage.deleteStall(req.params.id);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete stall\" });\n    }\n  });\n\n  // Delete vendor\n  app.delete(\"/api/vendors/:id\", async (req, res) => {\n    try {\n      await storage.deleteVendor(req.params.id);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete vendor\" });\n    }\n  });\n\n  // Delete food listing\n  app.delete(\"/api/food-listings/:id\", async (req, res) => {\n    try {\n      await storage.deleteFoodListing(req.params.id);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete food listing\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":26169},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"replit.md":{"content":"# Food Rescue SG - Queue Monitor & Food Rescue Platform\n\n## Overview\n\nFood Rescue SG is a dual-purpose platform designed for Singapore students and consumers. It combines real-time school canteen queue monitoring with a food rescue marketplace that connects vendors with surplus food to consumers at discounted prices. The platform is built with pure Node.js and EJS templates (NOT React) for server-side rendering.\n\n**Core Features:**\n- Real-time canteen queue monitoring with wait time estimates\n- Food rescue marketplace for surplus food listings\n- Vendor management and ratings system\n- Admin dashboard with full CRUD operations\n- Server-side rendered EJS templates for optimal performance\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Technology Stack:**\n- **React** with TypeScript for type-safe component development\n- **Vite** as the build tool and development server\n- **Wouter** for client-side routing\n- **TanStack Query** for server state management and data fetching\n- **shadcn/ui** component library built on Radix UI primitives\n- **Tailwind CSS** for styling with Material Design principles\n\n**Design System:**\n- Mobile-first responsive design approach\n- Material Design patterns adapted for Singapore-centric use cases\n- Typography: Inter (body) and DM Sans (headings) via Google Fonts\n- Consistent spacing using Tailwind's scale (2, 4, 6, 8, 12, 16)\n- Custom color system using CSS variables for theme support\n- Component variants using class-variance-authority for consistency\n\n**State Management:**\n- TanStack Query handles all server state with automatic caching\n- Query client configured with infinite stale time for stable data\n- Custom query functions handle authentication (401) responses\n- Toast notifications for user feedback via Radix UI Toast\n\n### Backend Architecture\n\n**Server Framework:**\n- **Express.js** as the HTTP server\n- **TypeScript** for type safety across the stack\n- **EJS** templating engine for server-side rendered views\n- Custom Vite middleware integration for development HMR\n\n**Rendering Strategy:**\n- Hybrid approach: Server-side rendering with EJS templates\n- Client-side React app for interactive components\n- Static asset serving for images and generated content\n- Development mode uses Vite middleware for instant updates\n\n**API Design:**\n- RESTful API endpoints under `/api` prefix\n- JSON request/response format\n- Session-based state management\n- Request logging middleware for debugging\n\n### Data Storage\n\n**Database:**\n- **PostgreSQL** via Neon serverless database\n- **Drizzle ORM** for type-safe database queries\n- Schema-first approach with Drizzle migrations\n\n**Data Models:**\n1. **Canteens** - School canteen locations and metadata\n2. **Stalls** - Individual food stalls with queue data and ratings\n3. **Food Listings** - Surplus food items with pricing and availability\n4. **Vendors** - Food rescue marketplace vendors with ratings\n5. **Ratings** - User reviews for stalls and vendors\n6. **Users** - Student/consumer accounts with profile information\n7. **UserPreferences** - Food preferences and recommendation parameters\n8. **CampusBlocks** - Campus locations with GPS coordinates\n9. **DeliveryRequests** - Food delivery orders with status tracking\n10. **DeliveryPersons** - Student delivery providers with availability\n11. **Earnings** - Delivery earnings and transaction history\n12. **Vouchers** - Reward vouchers for platform usage\n\n**Schema Features:**\n- UUID-based primary keys for distributed systems\n- Decimal precision for monetary values\n- Timestamp tracking for food listing freshness\n- Aggregate fields (rating, review count) for performance\n\n**Fallback Storage:**\n- In-memory storage implementation (MemStorage) for development/testing\n- Implements same IStorage interface as database layer\n- Allows running application without database provisioning\n\n### Authentication & Authorization\n\n**Current Implementation:**\n- Session-based state management using connect-pg-simple\n- PostgreSQL session store for persistence\n- Express session middleware\n- No explicit authentication system implemented yet (prepared for future addition)\n\n**Design Decisions:**\n- Session infrastructure ready for user authentication\n- Cookie-based session tracking\n- 401 handling in query client suggests future auth requirements\n\n### External Dependencies\n\n**Core Infrastructure:**\n- **Neon Database** - Serverless PostgreSQL hosting\n- **Google Fonts** - Typography (Inter, DM Sans)\n\n**UI Component Libraries:**\n- **Radix UI** - Unstyled, accessible component primitives (20+ components)\n- **shadcn/ui** - Pre-styled component system built on Radix\n- **Embla Carousel** - Carousel/slider functionality\n- **cmdk** - Command palette component\n- **Lucide React** - Icon library\n- **React Day Picker** - Calendar/date selection\n- **Recharts** - Data visualization (if needed)\n- **Vaul** - Drawer/bottom sheet component\n\n**Development Tools:**\n- **Replit Plugins** - Development environment enhancements (cartographer, dev banner, runtime error overlay)\n- **ESBuild** - Production bundling for server code\n- **TSX** - TypeScript execution for development server\n\n**Form & Validation:**\n- **React Hook Form** - Form state management\n- **Zod** - Runtime schema validation\n- **@hookform/resolvers** - Integration between RHF and Zod\n- **drizzle-zod** - Generate Zod schemas from Drizzle tables\n\n**Utilities:**\n- **clsx** & **tailwind-merge** - Conditional class name management\n- **class-variance-authority** - Component variant system\n- **date-fns** - Date manipulation and formatting\n\n## Recent Changes\n\n**November 11, 2025 - Campus Food Delivery Order System**\n- **Order Food with Delivery**: Complete food ordering system with campus delivery\n  - Browse all canteen stalls with queue status, ratings, and cuisine types\n  - Place orders with items and food total\n  - Select campus delivery location (7 campus blocks)\n  - Peak hour detection (11:30-13:30, 17:30-19:30 SGT): $2.00 delivery fee vs $1.50 off-peak\n  - Visual peak hour notice when applicable\n- **Server-Side Security**:\n  - Server-authoritative pricing: All delivery fees calculated server-side (cannot be tampered)\n  - Input validation: Food total range ($0.01-$1000), stall ID, delivery block existence checks\n  - XSS prevention: HTML entity encoding for all user inputs (foodItems, locations)\n  - Max length enforcement: 500 character limit on text inputs\n  - Peak hour determined from server time only (UTC+8 for Singapore)\n- **API Endpoints**:\n  - POST /api/delivery-requests - Create delivery order with server-calculated pricing\n  - GET /api/delivery-requests/pending - List pending deliveries (for delivery persons)\n  - GET /api/delivery-requests/customer/:customerId - Customer's order history\n  - PATCH /api/delivery-requests/:id/accept - Accept delivery request\n  - PATCH /api/delivery-requests/:id/status - Update delivery status\n- **Navigation Integration**: Added \"Order Food\" link to main navigation\n- **Known Limitations** (documented for future):\n  - No authentication (uses demo_user account)\n  - No CSRF protection\n  - No rate limiting\n\n**November 11, 2025 - Smart Stall Recommendations**\n- **Smart Recommendation System**: Personalized stall suggestions based on user preferences and location\n  - Weighted algorithm: 35% food preferences, 25% proximity, 20% queue time, 20% ratings\n  - Hard filters for max queue time (30 min) and walking distance (500m)\n  - Haversine distance calculation for GPS-based proximity\n  - Jaccard similarity for cuisine preference matching\n  - Visual score breakdowns with colored progress bars\n  - Confidence levels based on available data\n- **Campus Location System**: 7 campus blocks with GPS coordinates\n  - Block selection with real-time location updates\n  - Distance calculations from user location to canteens\n  - Walking distance enforcement (stalls >500m filtered out)\n- **User Preferences Management**: Customizable food preferences\n  - Cuisine type selection (Chinese, Western, Japanese, etc.)\n  - Dietary restrictions support\n  - Queue and distance tolerance settings\n- **API Endpoints**: Complete REST API for recommendations\n  - GET /api/recommendations/:userId - Ranked stall recommendations\n  - GET /api/campus-blocks - All campus locations\n  - GET /api/users/:userId - User profile data\n  - PATCH /api/users/:userId/location - Update user location\n  - PATCH /api/users/:userId/preferences - Update preferences\n- **Navigation Integration**: Added \"Recommendations\" link to all pages\n\n**November 5, 2025 - Initial Features**\n- **Queue Monitor Real-Time Updates**: Implemented live countdown for wait times\n- **Food Rescue Reserve Functionality**: Full reservation system implemented\n- Fixed WebSocket connectivity issue for Neon PostgreSQL database\n- Application now fully functional with PostgreSQL database persistence","size_bytes":8878},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4050},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"design_guidelines.md":{"content":"# Design Guidelines: School Canteen Queue & Food Rescue SG Platform\n\n## Design Approach\n**Selected System:** Material Design with mobile-first principles\n**Justification:** This platform requires efficient data display (queue monitoring), content-rich marketplace features, and strong mobile usability for Singapore students and consumers. Material Design provides robust patterns for real-time dashboards, card-based layouts, and mobile-optimized interfaces.\n\n**Core Design Principles:**\n- Mobile-first design (students checking queues on-the-go)\n- Instant information accessibility (queue status at a glance)\n- Trust-building through transparency (food rescue marketplace)\n- Singapore-centric visual language\n\n---\n\n## Typography\n\n**Font Families:**\n- Primary: Inter (UI elements, body text) - via Google Fonts\n- Secondary: DM Sans (headings, emphasis) - via Google Fonts\n\n**Type Scale:**\n- Hero/Display: text-5xl to text-6xl, font-bold\n- Page Titles: text-3xl to text-4xl, font-bold\n- Section Headers: text-2xl, font-semibold\n- Card Titles: text-xl, font-semibold\n- Body Text: text-base, font-normal\n- Metadata/Supporting: text-sm, font-medium\n- Labels/Captions: text-xs, font-medium\n\n---\n\n## Layout System\n\n**Spacing Primitives:**\nUse Tailwind units: **2, 4, 6, 8, 12, 16** for consistent rhythm\n- Component padding: p-4 to p-6\n- Section spacing: py-12 to py-16\n- Card gaps: gap-4 to gap-6\n- Element margins: m-2, m-4, m-8\n\n**Grid Structure:**\n- Mobile: Single column (grid-cols-1)\n- Tablet: 2 columns (md:grid-cols-2)\n- Desktop: 3-4 columns for cards (lg:grid-cols-3, xl:grid-cols-4)\n\n**Container Widths:**\n- Full-width dashboard: max-w-7xl\n- Content sections: max-w-6xl\n- Form containers: max-w-2xl\n\n---\n\n## Component Library\n\n### Navigation\n**Primary Header:**\n- Fixed top navigation with logo, main navigation links, and user profile\n- Mobile: Hamburger menu with slide-out drawer\n- Height: h-16\n- Shadow: shadow-md for elevation\n\n**Tab Navigation:** \n- For switching between \"Queue Monitor\" and \"Food Rescue\" sections\n- Horizontal tabs with underline indicator\n- Mobile: Scrollable horizontal tabs\n\n### Queue Status Dashboard\n**Canteen Cards:**\n- Large, prominent cards displaying canteen names (1 to 5)\n- Grid layout: grid-cols-1 md:grid-cols-2 lg:grid-cols-3\n- Each card shows: canteen name, number of stalls, overall status indicator\n- Rounded corners: rounded-xl\n- Elevation: shadow-lg\n\n**Queue Status Indicators:**\n- Use large, clear visual indicators (circles or badges)\n- Display queue number prominently with text-4xl font-bold\n- Include wait time estimation below queue number\n- Status represented through border treatments (not color)\n- Icons from Heroicons for status (clock, users, checkmark)\n\n**Stall Listings:**\n- Expandable/collapsible stall cards within each canteen\n- Each stall card includes: name, cuisine type, current queue number, estimated wait time, rating (stars + number)\n- Compact list view: divide into columns showing key info at a glance\n\n### Food Rescue Marketplace\n**Hero Section:**\n- Height: 60vh on desktop, 50vh mobile\n- Large background image showing Singapore hawker center or fresh food\n- Overlaid content: tagline, mission statement, primary CTA button\n- CTA button with backdrop blur: backdrop-blur-md bg-white/90\n- No hover states on blurred buttons\n\n**Food Listing Cards:**\n- Photo-first design with food image at top (aspect-ratio-square or 4:3)\n- Card content: vendor name, food item, original price, discounted price, pickup time window, distance/location\n- Grid: grid-cols-1 md:grid-cols-2 lg:grid-cols-3\n- Hover effect: subtle lift with shadow increase (no color changes)\n\n**Vendor Profiles:**\n- Split layout: vendor photo/logo left, information right (2-column on desktop)\n- Include: vendor name, type (bakery/restaurant/hawker), rating, address, operating hours\n- List of available items below profile\n\n### Forms & Inputs\n**Search & Filter Bar:**\n- Prominent search bar with icon from Heroicons (magnifying-glass)\n- Filter chips/buttons for food type, location, discount percentage\n- Sticky positioning on scroll for marketplace\n\n**Input Fields:**\n- Consistent height: h-12\n- Rounded: rounded-lg\n- Border treatment: border-2\n- Focus state: ring treatment with ring-2\n- Labels: text-sm font-medium, mb-2\n\n**Buttons:**\n- Primary CTA: px-6 py-3, rounded-lg, font-semibold\n- Secondary: Similar sizing with different border treatment\n- Icon buttons: square aspect ratio, p-3\n\n### Data Display Components\n**Rating System:**\n- Star icons from Heroicons (solid/outline)\n- Display: Stars followed by numerical rating (4.5) and review count (120 reviews)\n- Text: text-sm\n\n**Info Cards:**\n- Compact cards showing statistics (total food saved, CO2 reduced, meals rescued)\n- Icons from Heroicons\n- Large numbers: text-3xl font-bold\n- Labels below: text-sm\n\n**Time/Distance Indicators:**\n- Pill-shaped badges: rounded-full px-3 py-1\n- Icons + text combinations\n- Text: text-xs font-medium\n\n### Admin Dashboard\n**Data Tables:**\n- Clean, alternating row treatments\n- Sortable headers with icons\n- Action buttons in final column\n- Responsive: stack on mobile with card layout\n\n**Statistics Overview:**\n- Grid of metric cards: grid-cols-2 md:grid-cols-4\n- Each card: number, label, trend indicator\n- Spacing: gap-6\n\n---\n\n## Images\n\n**Hero Image (Food Rescue Section):**\n- High-quality photograph of Singapore hawker center or vibrant fresh food display\n- Warm, inviting atmosphere showing local food culture\n- Placement: Full-width hero section at top of Food Rescue page\n- Treatment: Subtle overlay gradient for text readability\n\n**Food Item Photos:**\n- Each rescued food listing card requires appetizing food photography\n- Square or 4:3 aspect ratio\n- Placement: Top of each marketplace card\n- Quality: High-resolution, well-lit product shots\n\n**Vendor Logos/Photos:**\n- Vendor profile images showing storefront or logo\n- Circular treatment: rounded-full\n- Size: 80px to 120px diameter\n- Placement: Vendor profile sections\n\n**Canteen/Stall Images:**\n- Optional supporting imagery for canteen cards\n- Placement: Background or small thumbnail\n- Treatment: Subtle, doesn't overpower queue information\n\n---\n\n## Accessibility & Responsive Design\n- All interactive elements min-height: h-12 (48px touch target)\n- Form labels always visible and associated with inputs\n- Semantic HTML structure with proper heading hierarchy\n- Skip navigation link for keyboard users\n- Responsive breakpoints: sm:640px, md:768px, lg:1024px, xl:1280px\n- Mobile: stack all multi-column layouts to single column\n\n---\n\n## Animation (Minimal)\n- Queue number updates: Simple fade transition\n- Card hover: Transform scale(1.02) and shadow increase\n- Tab transitions: Smooth underline slide\n- Page transitions: Simple fade\n- **Duration:** transition-all duration-200 ease-in-out","size_bytes":6786},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      {/* Add pages below */}\n      {/* <Route path=\"/\" component={Home}/> */}\n      {/* Fallback to 404 */}\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":733},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { storage } from \"./storage\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  // Seed database with initial data\n  if (storage.seedDatabase) {\n    await storage.seedDatabase();\n  }\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2353},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885}},"version":2}